{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Toaster,toast}from'react-hot-toast';import axios from'axios';import{HealthProvider,useHealth}from'./contexts/HealthContext';import Header from'./components/Header';import ChatBox from'./components/ChatBox';import ChatInput from'./components/ChatInput';import UploadCard from'./components/UploadCard';import MedicineCard from'./components/MedicineCard';import HealthManagement from'./components/HealthManagement';import PrescriptionUpload from'./components/PrescriptionUpload';import Login from'./components/Login';import Registration from'./components/Registration';import GoogleCalendarCallback from'./components/GoogleCalendarCallback';import ResultsModal from'./components/ResultsModal';import{authAPI}from'./services/apiService';import{Bot,FileText,AlertCircle,AlertTriangle,Heart,User,LogOut,Upload,Activity}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000/api/v1';// Main App component wrapped with HealthProvider\nfunction AppContent(){const{user,isAuthenticated,login,logout}=useHealth();const[currentView,setCurrentView]=useState('rx-assistant');// 'login', 'register', 'rx-assistant'\nconst[isDarkMode,setIsDarkMode]=useState(false);const[messages,setMessages]=useState([]);const[isTyping,setIsTyping]=useState(false);const[isProcessing,setIsProcessing]=useState(false);const[medicines,setMedicines]=useState([]);const[medicineCorrections,setMedicineCorrections]=useState([]);const[extractedText,setExtractedText]=useState('');const[isChatProcessing,setIsChatProcessing]=useState(false);const[currentFile,setCurrentFile]=useState(null);const[showResultsModal,setShowResultsModal]=useState(false);const[modalResults,setModalResults]=useState(null);// Authentication state\nconst[showAuthModal,setShowAuthModal]=useState(false);// Check for existing authentication on app load\nuseEffect(()=>{// Check if this is a Google Calendar callback\nconst urlParams=new URLSearchParams(window.location.search);if(urlParams.has('code')&&urlParams.has('state')){setCurrentView('calendar-callback');return;}// BYPASS AUTHENTICATION - Always go to main app\nsetCurrentView('rx-assistant');},[]);// Dark mode effect\nuseEffect(()=>{if(isDarkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[isDarkMode]);// Authentication handlers\nconst handleLoginSuccess=authData=>{login(authData);setCurrentView('rx-assistant');toast.success('Welcome back! Login successful.');};const handleRegistrationSuccess=userData=>{toast.success('Registration successful! Please log in.');setCurrentView('login');};const handleLogout=()=>{logout();setCurrentView('login');toast.success('Logged out successfully');};const switchToRegister=()=>{setCurrentView('register');};const switchToLogin=()=>{setCurrentView('login');};const toggleDarkMode=()=>{setIsDarkMode(!isDarkMode);};const addMessage=(sender,content)=>{const newMessage={sender,content,timestamp:new Date().toISOString()};setMessages(prev=>[...prev,newMessage]);};const addChatMessage=addMessage;const processPrescription=async file=>{setIsProcessing(true);setIsTyping(true);try{// Add user message\naddMessage('user',`Uploaded prescription: ${file.name}`);// Step 1: Extract text using OCR\nconst formData=new FormData();formData.append('file',file);const ocrResponse=await axios.post(`${API_BASE_URL}/ocr`,formData,{headers:{'Content-Type':'multipart/form-data'}});if(!ocrResponse.data.success){throw new Error(ocrResponse.data.message);}const extractedText=ocrResponse.data.text;setExtractedText(extractedText);// Add AI message about OCR\naddMessage('ai',`I've extracted the text from your prescription. Found ${extractedText.split(' ').length} words.`);// Step 2: Extract medicine names\nconst medsResponse=await axios.post(`${API_BASE_URL}/extract-meds`,{prescription_text:extractedText});if(!medsResponse.data.success){throw new Error('Could not identify medicines in the prescription');}const medicineData=medsResponse.data.medicines;const medicineNames=medicineData.map(med=>med.corrected);// Store correction data for display\nsetMedicineCorrections(medicineData);// Add AI message about medicines found with corrections\nlet medicineMessage=`I found ${medicineNames.length} medicine(s) in your prescription: ${medicineNames.join(', ')}`;if(medsResponse.data.correction_summary&&medsResponse.data.correction_summary!==\"All medicine names were accurate.\"){medicineMessage+=`\\n\\n${medsResponse.data.correction_summary}`;}addMessage('ai',medicineMessage);// Step 3: Get detailed medicine information\nconst medInfoResponse=await axios.post(`${API_BASE_URL}/med-info`,{medicines:medicineNames});if(!medInfoResponse.data.success){throw new Error('Could not retrieve medicine information');}const medicinesInfo=medInfoResponse.data.medicines_info;setMedicines(medicinesInfo);// Add final AI message\naddMessage('ai',`I've analyzed your prescription and prepared detailed information for each medicine. You can view the details below.`);// Show results modal with all the analysis data\nsetModalResults({extractedText:extractedText,medicines:medicinesInfo,medicineCorrections:medicineData,fileName:file.name});setShowResultsModal(true);toast.success('Prescription processed successfully!');}catch(error){console.error('Error processing prescription:',error);addMessage('ai',`Sorry, I encountered an error while processing your prescription: ${error.message}. Please try again with a clearer image.`);toast.error('Failed to process prescription. Please try again.');}finally{setIsTyping(false);setIsProcessing(false);}};const handleFileUpload=file=>{setCurrentFile(file);processPrescription(file);};const clearResults=()=>{setMedicines([]);setMedicineCorrections([]);setExtractedText('');setMessages([]);setCurrentFile(null);setShowResultsModal(false);setModalResults(null);};const handleAnalyze=()=>{if(currentFile){processPrescription(currentFile);}};const handleChatMessage=async message=>{setIsChatProcessing(true);setIsTyping(true);try{// Add user message\naddMessage('user',message);// Get context from current medicines\nconst context=medicines.length>0?`Current medicines: ${medicines.map(m=>m.name).join(', ')}`:'';// Send to chat API\nconst response=await axios.post(`${API_BASE_URL}/chat`,{message:message,context:context});if(response.data.success){addMessage('ai',response.data.response);}else{addMessage('ai','Sorry, I encountered an error. Please try again.');}}catch(error){console.error('Chat error:',error);addMessage('ai','Sorry, I encountered an error while processing your message. Please try again.');}finally{setIsTyping(false);setIsChatProcessing(false);}};// AUTHENTICATION BYPASSED - Go directly to main application\n// Main authenticated application\nreturn/*#__PURE__*/_jsxs(\"div\",{className:`min-h-screen transition-colors duration-300 ${isDarkMode?'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900':'bg-gradient-to-br from-blue-50 via-white to-purple-50'}`,children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:isDarkMode?'#374151':'#ffffff',color:isDarkMode?'#f3f4f6':'#1f2937',border:`1px solid ${isDarkMode?'#4b5563':'#e5e7eb'}`}}}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-800 dark:text-gray-200\",children:\"Health Management System\"}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-1\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('rx-assistant'),className:`px-4 py-2 rounded-lg font-medium transition-colors ${currentView==='rx-assistant'?'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300':'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'}`,children:[/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4 inline mr-2\"}),\"Rx Assistant\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleDarkMode,className:\"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",children:isDarkMode?'‚òÄÔ∏è':'üåô'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Welcome, Guest User\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toast.success('Demo mode - logout disabled'),className:\"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",title:\"Demo Mode\",children:/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"})})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[currentView==='calendar-callback'&&/*#__PURE__*/_jsx(GoogleCalendarCallback,{}),currentView==='rx-assistant'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.6},className:\"glass-card rounded-2xl shadow-xl overflow-hidden h-[600px] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 dark:text-gray-200\",children:\"Chat with Rx Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mt-1\",children:\"Ask questions about your medicines or upload a prescription\"})]}),/*#__PURE__*/_jsx(ChatBox,{messages:messages,isTyping:isTyping}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(ChatInput,{onSendMessage:handleChatMessage,isProcessing:isChatProcessing})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(UploadCard,{onFileUpload:handleFileUpload,isProcessing:isProcessing,onAnalyze:handleAnalyze,hasFile:!!currentFile}),/*#__PURE__*/_jsx(AnimatePresence,{children:(medicines.length>0||extractedText)&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.5},className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(motion.button,{onClick:clearResults,className:\"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:\"Clear Results\"})}),extractedText&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"glass-card rounded-xl p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5 text-blue-600 dark:text-blue-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-800 dark:text-gray-200\",children:\"Extracted Text\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400 leading-relaxed\",children:extractedText})]}),medicineCorrections.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-yellow-600 dark:text-yellow-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 dark:text-gray-200\",children:\"Medicine Verification\"})]}),medicineCorrections.map((medicine,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-gray-50 dark:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 dark:text-gray-200\",children:medicine.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:medicine.dosage}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:medicine.frequency})]},index))]}),medicines.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Bot,{className:\"w-5 h-5 text-green-600 dark:text-green-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 dark:text-gray-200\",children:\"Medicine Analysis\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:medicines.map((medicine,index)=>/*#__PURE__*/_jsx(MedicineCard,{medicine:medicine,index:index},index))})]})]})})]}),messages.length===0&&!isProcessing&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"col-span-2 text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Bot,{className:\"w-10 h-10 text-white\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4\",children:\"Welcome to Rx Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"Upload a prescription image to get detailed information about your medications, including dosage, side effects, and precautions.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"This is for educational purposes only. Always consult a healthcare professional.\"})]})]})})]})]}),/*#__PURE__*/_jsx(ResultsModal,{isOpen:showResultsModal,onClose:()=>setShowResultsModal(false),results:modalResults})]});}// Wrapper component with HealthProvider\nfunction App(){return/*#__PURE__*/_jsx(HealthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Toaster","toast","axios","HealthProvider","useHealth","Header","ChatBox","ChatInput","UploadCard","MedicineCard","HealthManagement","PrescriptionUpload","Login","Registration","GoogleCalendarCallback","ResultsModal","authAPI","Bot","FileText","AlertCircle","AlertTriangle","Heart","User","LogOut","Upload","Activity","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_URL","AppContent","user","isAuthenticated","login","logout","currentView","setCurrentView","isDarkMode","setIsDarkMode","messages","setMessages","isTyping","setIsTyping","isProcessing","setIsProcessing","medicines","setMedicines","medicineCorrections","setMedicineCorrections","extractedText","setExtractedText","isChatProcessing","setIsChatProcessing","currentFile","setCurrentFile","showResultsModal","setShowResultsModal","modalResults","setModalResults","showAuthModal","setShowAuthModal","urlParams","URLSearchParams","window","location","search","has","document","documentElement","classList","add","remove","handleLoginSuccess","authData","success","handleRegistrationSuccess","userData","handleLogout","switchToRegister","switchToLogin","toggleDarkMode","addMessage","sender","content","newMessage","timestamp","Date","toISOString","prev","addChatMessage","processPrescription","file","name","formData","FormData","append","ocrResponse","post","headers","data","Error","message","text","split","length","medsResponse","prescription_text","medicineData","medicineNames","map","med","corrected","medicineMessage","join","correction_summary","medInfoResponse","medicinesInfo","medicines_info","fileName","error","console","handleFileUpload","clearResults","handleAnalyze","handleChatMessage","context","m","response","className","children","position","toastOptions","duration","style","background","color","border","onClick","title","div","initial","opacity","x","animate","transition","onSendMessage","onFileUpload","onAnalyze","hasFile","y","exit","button","whileHover","scale","whileTap","medicine","index","dosage","frequency","isOpen","onClose","results","App"],"sources":["/Users/darshiyer/Desktop/DeadPool/Downloads/Tsunade/Tsunade/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Toaster, toast } from 'react-hot-toast';\nimport axios from 'axios';\nimport { HealthProvider, useHealth } from './contexts/HealthContext';\nimport Header from './components/Header';\nimport ChatBox from './components/ChatBox';\nimport ChatInput from './components/ChatInput';\nimport UploadCard from './components/UploadCard';\nimport MedicineCard from './components/MedicineCard';\nimport HealthManagement from './components/HealthManagement';\nimport PrescriptionUpload from './components/PrescriptionUpload';\nimport Login from './components/Login';\nimport Registration from './components/Registration';\nimport GoogleCalendarCallback from './components/GoogleCalendarCallback';\nimport ResultsModal from './components/ResultsModal';\nimport { authAPI } from './services/apiService';\nimport { Bot, FileText, AlertCircle, AlertTriangle, Heart, User, LogOut, Upload, Activity } from 'lucide-react';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// Main App component wrapped with HealthProvider\nfunction AppContent() {\n  const { user, isAuthenticated, login, logout } = useHealth();\n  const [currentView, setCurrentView] = useState('rx-assistant'); // 'login', 'register', 'rx-assistant'\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [medicines, setMedicines] = useState([]);\n  const [medicineCorrections, setMedicineCorrections] = useState([]);\n  const [extractedText, setExtractedText] = useState('');\n  const [isChatProcessing, setIsChatProcessing] = useState(false);\n  const [currentFile, setCurrentFile] = useState(null);\n  const [showResultsModal, setShowResultsModal] = useState(false);\n  const [modalResults, setModalResults] = useState(null);\n  \n  // Authentication state\n  const [showAuthModal, setShowAuthModal] = useState(false);\n\n  // Check for existing authentication on app load\n  useEffect(() => {\n    // Check if this is a Google Calendar callback\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.has('code') && urlParams.has('state')) {\n      setCurrentView('calendar-callback');\n      return;\n    }\n    \n    // BYPASS AUTHENTICATION - Always go to main app\n    setCurrentView('rx-assistant');\n  }, []);\n\n  // Dark mode effect\n  useEffect(() => {\n    if (isDarkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [isDarkMode]);\n\n  // Authentication handlers\n  const handleLoginSuccess = (authData) => {\n    login(authData);\n    setCurrentView('rx-assistant');\n    toast.success('Welcome back! Login successful.');\n  };\n\n  const handleRegistrationSuccess = (userData) => {\n    toast.success('Registration successful! Please log in.');\n    setCurrentView('login');\n  };\n\n  const handleLogout = () => {\n    logout();\n    setCurrentView('login');\n    toast.success('Logged out successfully');\n  };\n\n  const switchToRegister = () => {\n    setCurrentView('register');\n  };\n\n  const switchToLogin = () => {\n    setCurrentView('login');\n  };\n\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n  };\n\n  const addMessage = (sender, content) => {\n    const newMessage = {\n      sender,\n      content,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, newMessage]);\n  };\n\n  const addChatMessage = addMessage;\n\n  const processPrescription = async (file) => {\n    setIsProcessing(true);\n    setIsTyping(true);\n    \n    try {\n      // Add user message\n      addMessage('user', `Uploaded prescription: ${file.name}`);\n      \n      // Step 1: Extract text using OCR\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const ocrResponse = await axios.post(`${API_BASE_URL}/ocr`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      \n      if (!ocrResponse.data.success) {\n        throw new Error(ocrResponse.data.message);\n      }\n      \n      const extractedText = ocrResponse.data.text;\n      setExtractedText(extractedText);\n      \n      // Add AI message about OCR\n      addMessage('ai', `I've extracted the text from your prescription. Found ${extractedText.split(' ').length} words.`);\n      \n      // Step 2: Extract medicine names\n      const medsResponse = await axios.post(`${API_BASE_URL}/extract-meds`, {\n        prescription_text: extractedText\n      });\n      \n      if (!medsResponse.data.success) {\n        throw new Error('Could not identify medicines in the prescription');\n      }\n      \n      const medicineData = medsResponse.data.medicines;\n      const medicineNames = medicineData.map(med => med.corrected);\n      \n      // Store correction data for display\n      setMedicineCorrections(medicineData);\n      \n      // Add AI message about medicines found with corrections\n      let medicineMessage = `I found ${medicineNames.length} medicine(s) in your prescription: ${medicineNames.join(', ')}`;\n      \n      if (medsResponse.data.correction_summary && medsResponse.data.correction_summary !== \"All medicine names were accurate.\") {\n        medicineMessage += `\\n\\n${medsResponse.data.correction_summary}`;\n      }\n      \n      addMessage('ai', medicineMessage);\n      \n      // Step 3: Get detailed medicine information\n      const medInfoResponse = await axios.post(`${API_BASE_URL}/med-info`, {\n        medicines: medicineNames\n      });\n      \n      if (!medInfoResponse.data.success) {\n        throw new Error('Could not retrieve medicine information');\n      }\n      \n      const medicinesInfo = medInfoResponse.data.medicines_info;\n      setMedicines(medicinesInfo);\n      \n      // Add final AI message\n      addMessage('ai', `I've analyzed your prescription and prepared detailed information for each medicine. You can view the details below.`);\n      \n      // Show results modal with all the analysis data\n      setModalResults({\n        extractedText: extractedText,\n        medicines: medicinesInfo,\n        medicineCorrections: medicineData,\n        fileName: file.name\n      });\n      setShowResultsModal(true);\n      \n      toast.success('Prescription processed successfully!');\n      \n    } catch (error) {\n      console.error('Error processing prescription:', error);\n      addMessage('ai', `Sorry, I encountered an error while processing your prescription: ${error.message}. Please try again with a clearer image.`);\n      toast.error('Failed to process prescription. Please try again.');\n    } finally {\n      setIsTyping(false);\n      setIsProcessing(false);\n    }\n  };\n\n  const handleFileUpload = (file) => {\n    setCurrentFile(file);\n    processPrescription(file);\n  };\n\n  const clearResults = () => {\n    setMedicines([]);\n    setMedicineCorrections([]);\n    setExtractedText('');\n    setMessages([]);\n    setCurrentFile(null);\n    setShowResultsModal(false);\n    setModalResults(null);\n  };\n\n  const handleAnalyze = () => {\n    if (currentFile) {\n      processPrescription(currentFile);\n    }\n  };\n\n  const handleChatMessage = async (message) => {\n    setIsChatProcessing(true);\n    setIsTyping(true);\n    \n    try {\n      // Add user message\n      addMessage('user', message);\n      \n      // Get context from current medicines\n      const context = medicines.length > 0 \n        ? `Current medicines: ${medicines.map(m => m.name).join(', ')}`\n        : '';\n      \n      // Send to chat API\n      const response = await axios.post(`${API_BASE_URL}/chat`, {\n        message: message,\n        context: context\n      });\n      \n      if (response.data.success) {\n        addMessage('ai', response.data.response);\n      } else {\n        addMessage('ai', 'Sorry, I encountered an error. Please try again.');\n      }\n      \n    } catch (error) {\n      console.error('Chat error:', error);\n      addMessage('ai', 'Sorry, I encountered an error while processing your message. Please try again.');\n    } finally {\n      setIsTyping(false);\n      setIsChatProcessing(false);\n    }\n  };\n\n  // AUTHENTICATION BYPASSED - Go directly to main application\n\n  // Main authenticated application\n  return (\n      <div className={`min-h-screen transition-colors duration-300 ${\n        isDarkMode \n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \n          : 'bg-gradient-to-br from-blue-50 via-white to-purple-50'\n      }`}>\n      <Toaster \n        position=\"top-right\"\n        toastOptions={{\n          duration: 4000,\n          style: {\n            background: isDarkMode ? '#374151' : '#ffffff',\n            color: isDarkMode ? '#f3f4f6' : '#1f2937',\n            border: `1px solid ${isDarkMode ? '#4b5563' : '#e5e7eb'}`,\n          },\n        }}\n      />\n      \n      {/* Navigation Header */}\n      <div className=\"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-8\">\n              <h1 className=\"text-xl font-bold text-gray-800 dark:text-gray-200\">\n                Health Management System\n              </h1>\n              \n              {/* Navigation Tabs */}\n              <nav className=\"flex space-x-1\">\n                <button\n                  onClick={() => setCurrentView('rx-assistant')}\n                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                    currentView === 'rx-assistant'\n                      ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300'\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'\n                  }`}\n                >\n                  <Bot className=\"w-4 h-4 inline mr-2\" />\n                  Rx Assistant\n                </button>\n              </nav>\n            </div>\n            \n            {/* User Menu */}\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleDarkMode}\n                className=\"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              >\n                {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n              </button>\n              \n              <div className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\">\n                <User className=\"w-4 h-4\" />\n                <span>Welcome, Guest User</span>\n              </div>\n              \n              <button\n                onClick={() => toast.success('Demo mode - logout disabled')}\n                className=\"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n                title=\"Demo Mode\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        {currentView === 'calendar-callback' && (\n          <GoogleCalendarCallback />\n        )}\n        \n        {currentView === 'rx-assistant' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto\">\n            {/* Chat Area - Left Side */}\n            <div className=\"flex flex-col\">\n              <motion.div\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.6 }}\n                className=\"glass-card rounded-2xl shadow-xl overflow-hidden h-[600px] flex flex-col\"\n              >\n                {/* Chat Header */}\n                <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n                  <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200\">\n                    Chat with Rx Assistant\n                  </h2>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                    Ask questions about your medicines or upload a prescription\n                  </p>\n                </div>\n                \n                <ChatBox messages={messages} isTyping={isTyping} />\n                \n                {/* Chat Input */}\n                <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n                  <ChatInput onSendMessage={handleChatMessage} isProcessing={isChatProcessing} />\n                </div>\n              </motion.div>\n            </div>\n            \n            {/* Upload & Results Area - Right Side */}\n            <div className=\"space-y-6\">\n              {/* Upload Card */}\n              <UploadCard \n                onFileUpload={handleFileUpload}\n                isProcessing={isProcessing}\n                onAnalyze={handleAnalyze}\n                hasFile={!!currentFile}\n              />\n              \n              {/* Results Section */}\n              <AnimatePresence>\n                {(medicines.length > 0 || extractedText) && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -20 }}\n                    transition={{ duration: 0.5 }}\n                    className=\"space-y-4\"\n                  >\n                    {/* Clear Results Button */}\n                    <div className=\"flex justify-end\">\n                      <motion.button\n                        onClick={clearResults}\n                        className=\"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\"\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                      >\n                        Clear Results\n                      </motion.button>\n                    </div>\n                    \n                    {/* Extracted Text (Optional) */}\n                    {extractedText && (\n                      <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        className=\"glass-card rounded-xl p-4\"\n                      >\n                        <div className=\"flex items-center space-x-2 mb-3\">\n                          <FileText className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n                          <h3 className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">\n                            Extracted Text\n                          </h3>\n                        </div>\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400 leading-relaxed\">\n                          {extractedText}\n                        </p>\n                      </motion.div>\n                    )}\n                    \n                    {/* Medicine Corrections */}\n                    {medicineCorrections.length > 0 && (\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <AlertTriangle className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\n                          <h3 className=\"text-lg font-semibold text-gray-800 dark:text-gray-200\">\n                            Medicine Verification\n                          </h3>\n                        </div>\n                        \n                        {medicineCorrections.map((medicine, index) => (\n                          <div key={index} className=\"p-4 border rounded-lg bg-gray-50 dark:bg-gray-700\">\n                            <h4 className=\"font-medium text-gray-800 dark:text-gray-200\">{medicine.name}</h4>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">{medicine.dosage}</p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">{medicine.frequency}</p>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                    \n                    {/* Medicines List */}\n                    {medicines.length > 0 && (\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Bot className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n                          <h3 className=\"text-lg font-semibold text-gray-800 dark:text-gray-200\">\n                            Medicine Analysis\n                          </h3>\n                        </div>\n                        \n                        <div className=\"space-y-4\">\n                          {medicines.map((medicine, index) => (\n                            <MedicineCard \n                              key={index} \n                              medicine={medicine} \n                              index={index}\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n            \n            {/* Welcome Message for Chat */}\n            {messages.length === 0 && !isProcessing && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"col-span-2 text-center py-12\"\n              >\n                <div className=\"max-w-md mx-auto\">\n                  <div className=\"w-20 h-20 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-6\">\n                    <Bot className=\"w-10 h-10 text-white\" />\n                  </div>\n                  <h3 className=\"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4\">\n                    Welcome to Rx Assistant\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                    Upload a prescription image to get detailed information about your medications, including dosage, side effects, and precautions.\n                  </p>\n                  <div className=\"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400\">\n                    <AlertCircle className=\"w-4 h-4\" />\n                    <span>This is for educational purposes only. Always consult a healthcare professional.</span>\n                  </div>\n                </div>\n              </motion.div>\n            )}\n          </div>\n        )}\n      </div>\n      \n      {/* Results Modal */}\n      <ResultsModal\n        isOpen={showResultsModal}\n        onClose={() => setShowResultsModal(false)}\n        results={modalResults}\n      />\n      </div>\n  );\n}\n\n// Wrapper component with HealthProvider\nfunction App() {\n  return (\n    <HealthProvider>\n      <AppContent />\n    </HealthProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}