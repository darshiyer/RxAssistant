{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\Tsunade\\\\Tsunade\\\\frontend\\\\src\\\\components\\\\PrescriptionUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useDropzone } from 'react-dropzone';\nimport { Upload, Camera, FileText, X, Image as ImageIcon, Stethoscope, Activity, Calendar, Utensils, AlertCircle, CheckCircle, Clock, Brain } from 'lucide-react';\nimport { useHealth } from '../contexts/HealthContext';\nimport { prescriptionAPI, calendarAPI, healthAPI } from '../services/apiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrescriptionUpload = ({\n  onProcessPrescription,\n  extractedText,\n  medicines,\n  onClearResults\n}) => {\n  _s();\n  const {\n    user,\n    processPrescription\n  } = useHealth();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [ocrText, setOcrText] = useState('');\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [recommendations, setRecommendations] = useState(null);\n  const [error, setError] = useState('');\n  const [showHealthAnalysis, setShowHealthAnalysis] = useState(false);\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setUploadedFile(file);\n      setFileName(file.name);\n      setError('');\n\n      // Create preview\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n      setCurrentStep('upload');\n    }\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.bmp'],\n      'application/pdf': ['.pdf']\n    },\n    multiple: false\n  });\n  const clearFile = () => {\n    setUploadedFile(null);\n    setPreview(null);\n    setFileName('');\n    setOcrText('');\n    setAnalysisResult(null);\n    setRecommendations(null);\n    setError('');\n    setCurrentStep('upload');\n  };\n  const processOCR = async () => {\n    if (!uploadedFile) {\n      setError('Please upload a file first');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    setCurrentStep('ocr');\n    try {\n      const formData = new FormData();\n      formData.append('file', uploadedFile);\n      const response = await prescriptionAPI.extractText(formData);\n      if (response.success) {\n        setOcrText(response.text);\n        setCurrentStep('analysis');\n      } else {\n        setError(response.message || 'Failed to extract text from image');\n      }\n    } catch (err) {\n      setError('Error processing image: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleHealthAnalysis = async () => {\n    if (!uploadedFile) {\n      setError('Please upload a prescription first');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    setCurrentStep('ocr');\n    try {\n      // First extract text from the prescription\n      const formData = new FormData();\n      formData.append('file', uploadedFile);\n      const ocrResponse = await prescriptionAPI.extractText(formData);\n      if (!ocrResponse.success) {\n        setError(ocrResponse.message || 'Failed to extract text from prescription');\n        return;\n      }\n      setOcrText(ocrResponse.text);\n      setCurrentStep('analysis');\n\n      // Perform comprehensive health analysis\n      const analysisResponse = await prescriptionAPI.uploadPrescription({\n        prescription_text: ocrResponse.text,\n        image_reference: fileName,\n        metadata: {\n          upload_timestamp: new Date().toISOString(),\n          file_type: uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.type,\n          file_size: uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.size\n        }\n      });\n      if (analysisResponse.success) {\n        setAnalysisResult(analysisResponse.analysis);\n\n        // Get enhanced personalized recommendations including diet and exercise\n        const enhancedRecommendations = await getPersonalizedRecommendations(analysisResponse.analysis);\n        if (enhancedRecommendations) {\n          setRecommendations(enhancedRecommendations);\n\n          // Schedule health events in calendar\n          await scheduleHealthEvents(analysisResponse.analysis);\n          setCurrentStep('recommendations');\n        } else {\n          setError('Failed to generate personalized recommendations');\n        }\n      } else {\n        setError(analysisResponse.message || 'Failed to analyze prescription');\n      }\n    } catch (err) {\n      setError('Error during health analysis: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const diagnoseDiseases = async () => {\n    if (!ocrText) {\n      setError('No text available for analysis');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    try {\n      // Use the new integrated prescription processing endpoint\n      const response = await prescriptionAPI.uploadPrescription({\n        prescription_text: ocrText,\n        image_reference: fileName,\n        metadata: {\n          upload_timestamp: new Date().toISOString(),\n          file_type: uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.type,\n          file_size: uploadedFile === null || uploadedFile === void 0 ? void 0 : uploadedFile.size\n        }\n      });\n      if (response.success) {\n        // The new endpoint handles everything: analysis, recommendations, and dashboard integration\n        setAnalysisResult({\n          prescription_id: response.prescription_id,\n          integration_summary: response.integration_summary,\n          recommendations_created: response.recommendations_created,\n          dashboard_entries_created: response.dashboard_entries_created,\n          conditions_detected: response.conditions_detected\n        });\n        const prescriptionData = {\n          prescription_id: response.prescription_id,\n          ocr_text: ocrText,\n          timestamp: new Date().toISOString(),\n          integration_status: 'completed'\n        };\n\n        // Use context to update local state\n        await processPrescription(prescriptionData);\n        if (onProcessPrescription) {\n          onProcessPrescription(prescriptionData);\n        }\n        setCurrentStep('recommendations');\n      } else {\n        setError(response.message || 'Failed to process prescription');\n      }\n    } catch (err) {\n      setError('Error processing prescription: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const getPersonalizedRecommendations = async analysisResult => {\n    try {\n      var _analysisResult$extra;\n      // Extract detected diseases from analysis result\n      const detectedDiseases = (analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult$extra = analysisResult.extracted_info) === null || _analysisResult$extra === void 0 ? void 0 : _analysisResult$extra.conditions) || (analysisResult === null || analysisResult === void 0 ? void 0 : analysisResult.conditions_detected) || [];\n      if (detectedDiseases.length === 0) {\n        console.warn('No diseases detected for recommendations');\n        return null;\n      }\n\n      // Get comprehensive health recommendations including diet and exercise\n      const [dietResponse, exerciseResponse] = await Promise.all([\n      // Get day-wise diet chart\n      healthAPI.getDayWiseDietChart({\n        detected_diseases: detectedDiseases,\n        user_preferences: {},\n        duration_days: 7\n      }),\n      // Get disease-based exercise plan\n      healthAPI.getDiseaseBasedExercisePlan({\n        detected_diseases: detectedDiseases,\n        user_preferences: {},\n        fitness_level: \"beginner\",\n        available_time: 30\n      })]);\n      return {\n        diseases: detectedDiseases,\n        dietChart: dietResponse !== null && dietResponse !== void 0 && dietResponse.success ? dietResponse : null,\n        exercisePlan: exerciseResponse !== null && exerciseResponse !== void 0 && exerciseResponse.success ? exerciseResponse : null,\n        timestamp: new Date().toISOString()\n      };\n    } catch (error) {\n      console.error('Error getting personalized recommendations:', error);\n      return null;\n    }\n  };\n  const scheduleHealthEvents = async analysisData => {\n    try {\n      var _analysisData$extract, _analysisData$extract2, _analysisData$extract3, _analysisData$extract4;\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n\n      // Create medication reminders\n      if ((analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$extract = analysisData.extracted_info) === null || _analysisData$extract === void 0 ? void 0 : (_analysisData$extract2 = _analysisData$extract.medications) === null || _analysisData$extract2 === void 0 ? void 0 : _analysisData$extract2.length) > 0) {\n        for (const medicine of analysisData.extracted_info.medications) {\n          if (medicine.dosage && medicine.frequency) {\n            await createMedicationReminder(medicine);\n          }\n        }\n      }\n\n      // Schedule follow-up appointments if conditions are detected\n      if ((analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$extract3 = analysisData.extracted_info) === null || _analysisData$extract3 === void 0 ? void 0 : (_analysisData$extract4 = _analysisData$extract3.medical_conditions) === null || _analysisData$extract4 === void 0 ? void 0 : _analysisData$extract4.length) > 0) {\n        await scheduleFollowUpAppointment(analysisData.extracted_info.medical_conditions);\n      }\n    } catch (error) {\n      console.error('Error scheduling health events:', error);\n    }\n  };\n  const createMedicationReminder = async medicine => {\n    try {\n      const response = await calendarAPI.createEvent({\n        title: `Take ${medicine.name}`,\n        description: `Medication reminder: ${medicine.name} - ${medicine.dosage}\\nFrequency: ${medicine.frequency}`,\n        start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n        duration_minutes: 15,\n        recurrence: medicine.frequency && medicine.frequency.toLowerCase().includes('daily') ? 'daily' : null\n      });\n      if (response.success) {\n        console.log(`Medication reminder created for ${medicine.name}:`, response.data);\n      }\n    } catch (error) {\n      console.error('Error creating medication reminder:', error);\n    }\n  };\n  const scheduleFollowUpAppointment = async conditions => {\n    try {\n      const response = await calendarAPI.createEvent({\n        title: 'Follow-up Medical Appointment',\n        description: `Follow-up appointment for: ${conditions.join(', ')}\\nScheduled based on prescription analysis`,\n        start_time: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n        duration_minutes: 60\n      });\n      if (response.success) {\n        console.log('Follow-up appointment scheduled:', response.data);\n      }\n    } catch (error) {\n      console.error('Error scheduling follow-up appointment:', error);\n    }\n  };\n  const [calendarIntegration, setCalendarIntegration] = useState({\n    authorized: false,\n    loading: false,\n    events: [],\n    credentials: null\n  });\n\n  // Google Calendar Integration\n  const handleGoogleCalendarAuth = async () => {\n    setCalendarIntegration(prev => ({\n      ...prev,\n      loading: true\n    }));\n    try {\n      const response = await calendarAPI.getAuthUrl({\n        state: 'prescription_analysis'\n      });\n      if (response.success) {\n        // Open Google OAuth in a new window\n        const authWindow = window.open(response.authorization_url, 'google-auth', 'width=500,height=600,scrollbars=yes,resizable=yes');\n\n        // Listen for the auth completion\n        const checkClosed = setInterval(() => {\n          if (authWindow.closed) {\n            clearInterval(checkClosed);\n            // Check if auth was successful by checking localStorage or making a status call\n            const credentials = localStorage.getItem('google_calendar_credentials');\n            if (credentials) {\n              setCalendarIntegration(prev => ({\n                ...prev,\n                authorized: true,\n                loading: false,\n                credentials: JSON.parse(credentials)\n              }));\n              localStorage.removeItem('google_calendar_credentials');\n            } else {\n              setCalendarIntegration(prev => ({\n                ...prev,\n                loading: false\n              }));\n            }\n          }\n        }, 1000);\n      }\n    } catch (err) {\n      console.error('Error with Google Calendar auth:', err);\n      setCalendarIntegration(prev => ({\n        ...prev,\n        loading: false\n      }));\n    }\n  };\n  const createCalendarEvents = async () => {\n    if (!(recommendations !== null && recommendations !== void 0 && recommendations.exercise_recommendations) || !calendarIntegration.authorized || !calendarIntegration.credentials) return;\n    setCalendarIntegration(prev => ({\n      ...prev,\n      loading: true\n    }));\n    try {\n      var _recommendations$exer;\n      // Format exercise plan for the API\n      const exercisePlan = {\n        weekly_schedule: ((_recommendations$exer = recommendations.exercise_recommendations.exercises) === null || _recommendations$exer === void 0 ? void 0 : _recommendations$exer.map((exercise, index) => ({\n          day: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'][index % 7],\n          exercises: [{\n            name: exercise.name,\n            duration: exercise.duration || '30 minutes',\n            intensity: exercise.intensity || 'moderate',\n            description: exercise.description || ''\n          }]\n        }))) || []\n      };\n      const response = await calendarAPI.createExerciseEvents({\n        credentials: calendarIntegration.credentials,\n        exercise_plan: exercisePlan,\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n      });\n      if (response.success) {\n        setCalendarIntegration(prev => ({\n          ...prev,\n          events: response.created_events,\n          loading: false\n        }));\n        alert(`Successfully created ${response.created_events.length} calendar events!`);\n      } else {\n        throw new Error('Failed to create calendar events');\n      }\n    } catch (err) {\n      console.error('Error creating calendar events:', err);\n      setCalendarIntegration(prev => ({\n        ...prev,\n        loading: false\n      }));\n      alert('Failed to create calendar events. Please try again.');\n    }\n  };\n  const scheduleToCalendar = async (type, item) => {\n    try {\n      const response = await calendarAPI.createEvent({\n        title: `${type}: ${item.name || item.category}`,\n        description: item.description || item.notes || '',\n        start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n        // Tomorrow\n        duration_minutes: type === 'Exercise' ? 30 : 60\n      });\n      if (response.success) {\n        alert(`${type} scheduled successfully!`);\n      } else {\n        alert(`Failed to schedule ${type}`);\n      }\n    } catch (err) {\n      alert(`Error scheduling ${type}: ${err.message}`);\n    }\n  };\n  const renderStepIndicator = () => {\n    const steps = [{\n      id: 'upload',\n      label: 'Upload',\n      icon: Upload\n    }, {\n      id: 'ocr',\n      label: 'Extract Text',\n      icon: FileText\n    }, {\n      id: 'analysis',\n      label: 'Diagnose',\n      icon: Stethoscope\n    }, {\n      id: 'recommendations',\n      label: 'Recommendations',\n      icon: Activity\n    }];\n    const stepIndex = steps.findIndex(step => step.id === currentStep);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center mb-6\",\n      children: steps.map((step, index) => {\n        const Icon = step.icon;\n        const isActive = index <= stepIndex;\n        const isCurrent = step.id === currentStep;\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-center w-10 h-10 rounded-full ${isActive ? 'bg-primary-500 text-white' : 'bg-gray-200 text-gray-500'} ${isCurrent ? 'ring-2 ring-primary-300' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), index < steps.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-12 h-1 mx-2 ${index < stepIndex ? 'bg-primary-500' : 'bg-gray-200'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this)]\n        }, step.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this);\n  };\n  const renderUploadSection = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"glass-card rounded-2xl p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2\",\n        children: \"Upload Prescription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-400\",\n        children: \"Drag & drop your prescription image or click to browse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `upload-zone ${isDragActive ? 'upload-zone-active' : ''} ${isProcessing ? 'pointer-events-none opacity-50' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        mode: \"wait\",\n        children: !preview ? /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          exit: {\n            opacity: 0\n          },\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Upload, {\n                className: \"w-8 h-8 text-primary-600 dark:text-primary-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\",\n              children: isDragActive ? 'Drop your file here' : 'Choose a file or drag it here'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 dark:text-gray-400\",\n              children: \"Supports JPG, PNG, GIF, BMP, and PDF files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this)]\n        }, \"upload-prompt\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            scale: 0.9\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          exit: {\n            opacity: 0,\n            scale: 0.9\n          },\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [fileName.toLowerCase().endsWith('.pdf') ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-32 bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/20 dark:to-red-800/20 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(FileText, {\n                className: \"w-12 h-12 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: preview,\n              alt: \"Preview\",\n              className: \"w-full h-32 object-cover rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                clearFile();\n              },\n              className: \"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-800 dark:text-gray-200\",\n              children: fileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600 dark:text-gray-400\",\n              children: \"Click to change file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, \"preview\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: processOCR,\n        disabled: isProcessing,\n        className: \"w-full btn-primary flex items-center justify-center space-x-2\",\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isProcessing ? 'Processing...' : 'Extract Text'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: handleHealthAnalysis,\n        disabled: isProcessing || !uploadedFile,\n        className: \"w-full btn-secondary flex items-center justify-center space-x-2\",\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stethoscope, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isProcessing ? 'Analyzing...' : 'Health Analysis'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 465,\n    columnNumber: 5\n  }, this);\n  const renderAnalysisSection = () => {\n    var _analysisResult$extra2, _analysisResult$extra3, _analysisResult$extra4, _analysisResult$extra5;\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"glass-card rounded-2xl p-6 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Brain, {\n            className: \"w-6 h-6 mr-2 text-primary-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 11\n          }, this), \"AI Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 9\n        }, this), ocrText && /*#__PURE__*/_jsxDEV(motion.button, {\n          onClick: diagnoseDiseases,\n          disabled: isProcessing,\n          className: \"btn-primary flex items-center space-x-2\",\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          children: [/*#__PURE__*/_jsxDEV(Stethoscope, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: isProcessing ? 'Diagnosing...' : 'Diagnose Disease'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 7\n      }, this), ocrText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n          children: \"Extracted Text:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-700 dark:text-gray-300 max-h-32 overflow-y-auto\",\n          children: ocrText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-green-600\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: analysisResult.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this), (analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult$extra2 = analysisResult.extracted_info) === null || _analysisResult$extra2 === void 0 ? void 0 : (_analysisResult$extra3 = _analysisResult$extra2.medical_conditions) === null || _analysisResult$extra3 === void 0 ? void 0 : _analysisResult$extra3.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: \"Detected Conditions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: analysisResult.extracted_info.medical_conditions.map((condition, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm\",\n              children: condition\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this), (analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult$extra4 = analysisResult.extracted_info) === null || _analysisResult$extra4 === void 0 ? void 0 : (_analysisResult$extra5 = _analysisResult$extra4.medications) === null || _analysisResult$extra5 === void 0 ? void 0 : _analysisResult$extra5.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: \"Medications:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: analysisResult.extracted_info.medications.map((med, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-blue-800 dark:text-blue-200\",\n                children: med.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 21\n              }, this), med.dosage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-600 dark:text-blue-300\",\n                children: [\"Dosage: \", med.dosage]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 36\n              }, this), med.frequency && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-600 dark:text-blue-300\",\n                children: [\"Frequency: \", med.frequency]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 39\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 5\n    }, this);\n  };\n  const renderRecommendations = () => {\n    var _recommendations$diet, _recommendations$exer2, _recommendations$diet2;\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"space-y-6 mt-6\",\n      children: [(recommendations === null || recommendations === void 0 ? void 0 : recommendations.dietChart) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Utensils, {\n              className: \"w-6 h-6 mr-2 text-orange-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this), \"7-Day Diet Chart\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [(_recommendations$diet = recommendations.dietChart.diet_plan) === null || _recommendations$diet === void 0 ? void 0 : _recommendations$diet.map((day, index) => {\n            var _day$meals;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-orange-800 dark:text-orange-200 mb-3\",\n                children: [\"Day \", day.day, \" - \", day.day_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\",\n                children: (_day$meals = day.meals) === null || _day$meals === void 0 ? void 0 : _day$meals.map((meal, mealIndex) => {\n                  var _meal$foods;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white dark:bg-gray-800 rounded-lg p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"font-medium text-orange-700 dark:text-orange-300 capitalize mb-2\",\n                      children: meal.meal_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 682,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"text-sm text-gray-600 dark:text-gray-400 space-y-1\",\n                      children: (_meal$foods = meal.foods) === null || _meal$foods === void 0 ? void 0 : _meal$foods.map((food, foodIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [\"\\u2022 \", food]\n                      }, foodIndex, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 687,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500 dark:text-gray-500 mt-2\",\n                      children: [meal.calories, \" cal | \", meal.preparation_time]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 690,\n                      columnNumber: 23\n                    }, this)]\n                  }, mealIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 681,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 text-sm text-orange-600 dark:text-orange-400\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Focus:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 19\n                }, this), \" \", day.nutritional_focus, \" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 69\n                }, this), \" \", day.total_calories, \" calories\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 17\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 15\n            }, this);\n          }), recommendations.dietChart.general_guidelines && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-orange-800 dark:text-orange-200 mb-2\",\n              children: \"General Guidelines:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-orange-700 dark:text-orange-300 space-y-1\",\n              children: recommendations.dietChart.general_guidelines.map((guideline, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", guideline]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), (recommendations === null || recommendations === void 0 ? void 0 : recommendations.exercisePlan) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-6 h-6 mr-2 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this), \"Weekly Exercise Plan\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: !calendarIntegration.authorized ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGoogleCalendarAuth,\n              disabled: calendarIntegration.loading,\n              className: \"btn-sm btn-primary flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: calendarIntegration.loading ? 'Connecting...' : 'Connect Google Calendar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-1 text-green-600\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: \"Calendar Connected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: createCalendarEvents,\n                disabled: calendarIntegration.loading,\n                className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: calendarIntegration.loading ? 'Creating...' : 'Schedule All'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [(_recommendations$exer2 = recommendations.exercisePlan.weekly_plan) === null || _recommendations$exer2 === void 0 ? void 0 : _recommendations$exer2.map((week, weekIndex) => {\n            var _week$exercises;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-green-800 dark:text-green-200 mb-3\",\n                children: [\"Week \", week.week_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: (_week$exercises = week.exercises) === null || _week$exercises === void 0 ? void 0 : _week$exercises.map((exercise, exerciseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white dark:bg-gray-800 rounded-lg p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"font-medium text-green-700 dark:text-green-300\",\n                      children: exercise.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 765,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => scheduleToCalendar('Exercise', exercise),\n                      className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 770,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Schedule\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 771,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 766,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Type:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 775,\n                        columnNumber: 30\n                      }, this), \" \", exercise.type]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 775,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Duration:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 776,\n                        columnNumber: 30\n                      }, this), \" \", exercise.duration]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Intensity:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 777,\n                        columnNumber: 30\n                      }, this), \" \", exercise.intensity]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 777,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Frequency:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 778,\n                        columnNumber: 30\n                      }, this), \" \", exercise.frequency]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 778,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-green-600 dark:text-green-400 mb-2\",\n                    children: exercise.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 23\n                  }, this), exercise.benefits && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-green-700 dark:text-green-300 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Benefits:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 783,\n                      columnNumber: 27\n                    }, this), \" \", exercise.benefits.join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 782,\n                    columnNumber: 25\n                  }, this), exercise.precautions && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-orange-600 dark:text-orange-400\",\n                    children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                      className: \"w-4 h-4 inline mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 788,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Precautions:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 789,\n                      columnNumber: 27\n                    }, this), \" \", exercise.precautions.join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 787,\n                    columnNumber: 25\n                  }, this)]\n                }, exerciseIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 17\n              }, this)]\n            }, weekIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 15\n            }, this);\n          }), recommendations.exercisePlan.general_guidelines && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-green-800 dark:text-green-200 mb-2\",\n              children: \"General Guidelines:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-green-700 dark:text-green-300 space-y-1\",\n              children: recommendations.exercisePlan.general_guidelines.map((guideline, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2022 \", guideline]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this), calendarIntegration.events.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-800 dark:text-gray-200 mb-2\",\n              children: \"Scheduled Events:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: calendarIntegration.events.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-green-800 dark:text-green-200\",\n                  children: event.exercise_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-green-600 dark:text-green-400\",\n                  children: [event.date, \" at \", event.time]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 23\n                }, this), event.event_link && /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: event.event_link,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"text-xs text-blue-600 dark:text-blue-400 hover:underline\",\n                  children: \"View in Google Calendar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 820,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 9\n      }, this), (recommendations === null || recommendations === void 0 ? void 0 : recommendations.dietary_recommendations) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Utensils, {\n            className: \"w-6 h-6 mr-2 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 13\n          }, this), \"Dietary Recommendations\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: ((_recommendations$diet2 = recommendations.dietary_recommendations.foods) === null || _recommendations$diet2 === void 0 ? void 0 : _recommendations$diet2.map((food, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-orange-800 dark:text-orange-200\",\n                children: food.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scheduleToCalendar('Diet Plan', food),\n                className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 17\n            }, this), food.recommended && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-700 dark:text-green-300 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Recommended:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 21\n              }, this), \" \", food.recommended.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 19\n            }, this), food.avoid && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-700 dark:text-red-300 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Avoid:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 21\n              }, this), \" \", food.avoid.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this), food.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-orange-600 dark:text-orange-400\",\n              children: food.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this))) || /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-orange-700 dark:text-orange-300\",\n              children: recommendations.dietary_recommendations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 5\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2\",\n        children: \"AI-Powered Prescription Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-400\",\n        children: \"Upload your prescription for intelligent disease diagnosis and personalized health recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 7\n    }, this), renderStepIndicator(), renderUploadSection(), (ocrText || analysisResult) && renderAnalysisSection(), recommendations && renderRecommendations(), error && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 text-red-700 dark:text-red-300\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 902,\n      columnNumber: 9\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-blue-700 dark:text-blue-300\",\n          children: currentStep === 'ocr' ? 'Extracting text from prescription...' : currentStep === 'analysis' ? 'Analyzing medical conditions...' : 'Processing your request...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 915,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 883,\n    columnNumber: 5\n  }, this);\n};\n_s(PrescriptionUpload, \"0kOZoRRg/mqb+ghoPeZiFflh4SM=\", false, function () {\n  return [useHealth, useDropzone];\n});\n_c = PrescriptionUpload;\nexport default PrescriptionUpload;\nvar _c;\n$RefreshReg$(_c, \"PrescriptionUpload\");","map":{"version":3,"names":["React","useState","useCallback","motion","AnimatePresence","useDropzone","Upload","Camera","FileText","X","Image","ImageIcon","Stethoscope","Activity","Calendar","Utensils","AlertCircle","CheckCircle","Clock","Brain","useHealth","prescriptionAPI","calendarAPI","healthAPI","jsxDEV","_jsxDEV","PrescriptionUpload","onProcessPrescription","extractedText","medicines","onClearResults","_s","user","processPrescription","uploadedFile","setUploadedFile","preview","setPreview","fileName","setFileName","isProcessing","setIsProcessing","ocrText","setOcrText","analysisResult","setAnalysisResult","recommendations","setRecommendations","error","setError","showHealthAnalysis","setShowHealthAnalysis","onDrop","acceptedFiles","file","name","reader","FileReader","onload","result","readAsDataURL","setCurrentStep","getRootProps","getInputProps","isDragActive","accept","multiple","clearFile","processOCR","formData","FormData","append","response","extractText","success","text","message","err","handleHealthAnalysis","ocrResponse","analysisResponse","uploadPrescription","prescription_text","image_reference","metadata","upload_timestamp","Date","toISOString","file_type","type","file_size","size","analysis","enhancedRecommendations","getPersonalizedRecommendations","scheduleHealthEvents","diagnoseDiseases","prescription_id","integration_summary","recommendations_created","dashboard_entries_created","conditions_detected","prescriptionData","ocr_text","timestamp","integration_status","_analysisResult$extra","detectedDiseases","extracted_info","conditions","length","console","warn","dietResponse","exerciseResponse","Promise","all","getDayWiseDietChart","detected_diseases","user_preferences","duration_days","getDiseaseBasedExercisePlan","fitness_level","available_time","diseases","dietChart","exercisePlan","analysisData","_analysisData$extract","_analysisData$extract2","_analysisData$extract3","_analysisData$extract4","token","localStorage","getItem","medications","medicine","dosage","frequency","createMedicationReminder","medical_conditions","scheduleFollowUpAppointment","createEvent","title","description","start_time","now","duration_minutes","recurrence","toLowerCase","includes","log","data","join","calendarIntegration","setCalendarIntegration","authorized","loading","events","credentials","handleGoogleCalendarAuth","prev","getAuthUrl","state","authWindow","window","open","authorization_url","checkClosed","setInterval","closed","clearInterval","JSON","parse","removeItem","createCalendarEvents","exercise_recommendations","_recommendations$exer","weekly_schedule","exercises","map","exercise","index","day","duration","intensity","createExerciseEvents","exercise_plan","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","created_events","alert","Error","scheduleToCalendar","item","category","notes","renderStepIndicator","steps","id","label","icon","stepIndex","findIndex","step","currentStep","className","children","Icon","isActive","isCurrent","Fragment","_jsxFileName","lineNumber","columnNumber","renderUploadSection","div","initial","opacity","y","animate","mode","exit","scale","endsWith","src","alt","onClick","e","stopPropagation","button","disabled","whileHover","whileTap","renderAnalysisSection","_analysisResult$extra2","_analysisResult$extra3","_analysisResult$extra4","_analysisResult$extra5","condition","med","renderRecommendations","_recommendations$diet","_recommendations$exer2","_recommendations$diet2","diet_plan","_day$meals","day_name","meals","meal","mealIndex","_meal$foods","meal_type","foods","food","foodIndex","calories","preparation_time","nutritional_focus","total_calories","general_guidelines","guideline","weekly_plan","week","weekIndex","_week$exercises","week_number","exerciseIndex","benefits","precautions","event","exercise_name","date","time","event_link","href","target","rel","dietary_recommendations","recommended","avoid","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Downloads/Tsunade/Tsunade/frontend/src/components/PrescriptionUpload.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { \r\n  Upload, \r\n  Camera, \r\n  FileText, \r\n  X, \r\n  Image as ImageIcon, \r\n  Stethoscope, \r\n  Activity, \r\n  Calendar,\r\n  Utensils,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  Brain\r\n} from 'lucide-react';\r\nimport { useHealth } from '../contexts/HealthContext';\r\nimport { prescriptionAPI, calendarAPI, healthAPI } from '../services/apiService';\r\n\r\nconst PrescriptionUpload = ({ onProcessPrescription, extractedText, medicines, onClearResults }) => {\r\n  const { user, processPrescription } = useHealth();\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [fileName, setFileName] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [ocrText, setOcrText] = useState('');\r\n  const [analysisResult, setAnalysisResult] = useState(null);\r\n  const [recommendations, setRecommendations] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [showHealthAnalysis, setShowHealthAnalysis] = useState(false);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    const file = acceptedFiles[0];\r\n    if (file) {\r\n      setUploadedFile(file);\r\n      setFileName(file.name);\r\n      setError('');\r\n      \r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setPreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      \r\n      setCurrentStep('upload');\r\n    }\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.bmp'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    multiple: false\r\n  });\r\n\r\n  const clearFile = () => {\r\n    setUploadedFile(null);\r\n    setPreview(null);\r\n    setFileName('');\r\n    setOcrText('');\r\n    setAnalysisResult(null);\r\n    setRecommendations(null);\r\n    setError('');\r\n    setCurrentStep('upload');\r\n  };\r\n\r\n  const processOCR = async () => {\r\n    if (!uploadedFile) {\r\n      setError('Please upload a file first');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    setError('');\r\n    setCurrentStep('ocr');\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', uploadedFile);\r\n\r\n      const response = await prescriptionAPI.extractText(formData);\r\n\r\n      if (response.success) {\r\n        setOcrText(response.text);\r\n        setCurrentStep('analysis');\r\n      } else {\r\n        setError(response.message || 'Failed to extract text from image');\r\n      }\r\n    } catch (err) {\r\n      setError('Error processing image: ' + err.message);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleHealthAnalysis = async () => {\r\n    if (!uploadedFile) {\r\n      setError('Please upload a prescription first');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    setError('');\r\n    setCurrentStep('ocr');\r\n\r\n    try {\r\n      // First extract text from the prescription\r\n      const formData = new FormData();\r\n      formData.append('file', uploadedFile);\r\n\r\n      const ocrResponse = await prescriptionAPI.extractText(formData);\r\n\r\n      if (!ocrResponse.success) {\r\n        setError(ocrResponse.message || 'Failed to extract text from prescription');\r\n        return;\r\n      }\r\n\r\n      setOcrText(ocrResponse.text);\r\n      setCurrentStep('analysis');\r\n\r\n      // Perform comprehensive health analysis\r\n      const analysisResponse = await prescriptionAPI.uploadPrescription({\r\n        prescription_text: ocrResponse.text,\r\n        image_reference: fileName,\r\n        metadata: {\r\n          upload_timestamp: new Date().toISOString(),\r\n          file_type: uploadedFile?.type,\r\n          file_size: uploadedFile?.size\r\n        }\r\n      });\r\n\r\n      if (analysisResponse.success) {\r\n        setAnalysisResult(analysisResponse.analysis);\r\n        \r\n        // Get enhanced personalized recommendations including diet and exercise\r\n        const enhancedRecommendations = await getPersonalizedRecommendations(analysisResponse.analysis);\r\n        \r\n        if (enhancedRecommendations) {\r\n          setRecommendations(enhancedRecommendations);\r\n          \r\n          // Schedule health events in calendar\r\n          await scheduleHealthEvents(analysisResponse.analysis);\r\n          \r\n          setCurrentStep('recommendations');\r\n        } else {\r\n          setError('Failed to generate personalized recommendations');\r\n        }\r\n      } else {\r\n        setError(analysisResponse.message || 'Failed to analyze prescription');\r\n      }\r\n    } catch (err) {\r\n      setError('Error during health analysis: ' + err.message);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const diagnoseDiseases = async () => {\r\n    if (!ocrText) {\r\n      setError('No text available for analysis');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Use the new integrated prescription processing endpoint\r\n      const response = await prescriptionAPI.uploadPrescription({\r\n        prescription_text: ocrText,\r\n        image_reference: fileName,\r\n        metadata: {\r\n          upload_timestamp: new Date().toISOString(),\r\n          file_type: uploadedFile?.type,\r\n          file_size: uploadedFile?.size\r\n        }\r\n      });\r\n\r\n      if (response.success) {\r\n        // The new endpoint handles everything: analysis, recommendations, and dashboard integration\r\n        setAnalysisResult({\r\n          prescription_id: response.prescription_id,\r\n          integration_summary: response.integration_summary,\r\n          recommendations_created: response.recommendations_created,\r\n          dashboard_entries_created: response.dashboard_entries_created,\r\n          conditions_detected: response.conditions_detected\r\n        });\r\n        \r\n        const prescriptionData = {\r\n          prescription_id: response.prescription_id,\r\n          ocr_text: ocrText,\r\n          timestamp: new Date().toISOString(),\r\n          integration_status: 'completed'\r\n        };\r\n        \r\n        // Use context to update local state\r\n        await processPrescription(prescriptionData);\r\n        \r\n        if (onProcessPrescription) {\r\n          onProcessPrescription(prescriptionData);\r\n        }\r\n        \r\n        setCurrentStep('recommendations');\r\n      } else {\r\n        setError(response.message || 'Failed to process prescription');\r\n      }\r\n    } catch (err) {\r\n      setError('Error processing prescription: ' + err.message);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const getPersonalizedRecommendations = async (analysisResult) => {\r\n    try {\r\n      // Extract detected diseases from analysis result\r\n      const detectedDiseases = analysisResult?.extracted_info?.conditions || \r\n                              analysisResult?.conditions_detected || \r\n                              [];\r\n      \r\n      if (detectedDiseases.length === 0) {\r\n        console.warn('No diseases detected for recommendations');\r\n        return null;\r\n      }\r\n\r\n      // Get comprehensive health recommendations including diet and exercise\r\n      const [dietResponse, exerciseResponse] = await Promise.all([\r\n        // Get day-wise diet chart\r\n        healthAPI.getDayWiseDietChart({\r\n          detected_diseases: detectedDiseases,\r\n          user_preferences: {},\r\n          duration_days: 7\r\n        }),\r\n        // Get disease-based exercise plan\r\n        healthAPI.getDiseaseBasedExercisePlan({\r\n          detected_diseases: detectedDiseases,\r\n          user_preferences: {},\r\n          fitness_level: \"beginner\",\r\n          available_time: 30\r\n        })\r\n      ]);\r\n\r\n      return {\r\n        diseases: detectedDiseases,\r\n        dietChart: dietResponse?.success ? dietResponse : null,\r\n        exercisePlan: exerciseResponse?.success ? exerciseResponse : null,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting personalized recommendations:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const scheduleHealthEvents = async (analysisData) => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) return;\r\n\r\n      // Create medication reminders\r\n      if (analysisData?.extracted_info?.medications?.length > 0) {\r\n        for (const medicine of analysisData.extracted_info.medications) {\r\n          if (medicine.dosage && medicine.frequency) {\r\n            await createMedicationReminder(medicine);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Schedule follow-up appointments if conditions are detected\r\n      if (analysisData?.extracted_info?.medical_conditions?.length > 0) {\r\n        await scheduleFollowUpAppointment(analysisData.extracted_info.medical_conditions);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error scheduling health events:', error);\r\n    }\r\n  };\r\n\r\n  const createMedicationReminder = async (medicine) => {\r\n     try {\r\n       const response = await calendarAPI.createEvent({\r\n         title: `Take ${medicine.name}`,\r\n         description: `Medication reminder: ${medicine.name} - ${medicine.dosage}\\nFrequency: ${medicine.frequency}`,\r\n         start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\r\n         duration_minutes: 15,\r\n         recurrence: medicine.frequency && medicine.frequency.toLowerCase().includes('daily') ? 'daily' : null\r\n       });\r\n \r\n       if (response.success) {\r\n         console.log(`Medication reminder created for ${medicine.name}:`, response.data);\r\n       }\r\n     } catch (error) {\r\n       console.error('Error creating medication reminder:', error);\r\n     }\r\n   };\r\n\r\n  const scheduleFollowUpAppointment = async (conditions) => {\r\n     try {\r\n       const response = await calendarAPI.createEvent({\r\n         title: 'Follow-up Medical Appointment',\r\n         description: `Follow-up appointment for: ${conditions.join(', ')}\\nScheduled based on prescription analysis`,\r\n         start_time: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\r\n         duration_minutes: 60\r\n       });\r\n \r\n       if (response.success) {\r\n         console.log('Follow-up appointment scheduled:', response.data);\r\n       }\r\n     } catch (error) {\r\n       console.error('Error scheduling follow-up appointment:', error);\r\n     }\r\n   };\r\n\r\n  const [calendarIntegration, setCalendarIntegration] = useState({\r\n    authorized: false,\r\n    loading: false,\r\n    events: [],\r\n    credentials: null\r\n  });\r\n\r\n  // Google Calendar Integration\r\n  const handleGoogleCalendarAuth = async () => {\r\n    setCalendarIntegration(prev => ({ ...prev, loading: true }));\r\n\r\n    try {\r\n      const response = await calendarAPI.getAuthUrl({ state: 'prescription_analysis' });\r\n\r\n      if (response.success) {\r\n        // Open Google OAuth in a new window\r\n        const authWindow = window.open(\r\n          response.authorization_url, \r\n          'google-auth', \r\n          'width=500,height=600,scrollbars=yes,resizable=yes'\r\n        );\r\n        \r\n        // Listen for the auth completion\r\n        const checkClosed = setInterval(() => {\r\n          if (authWindow.closed) {\r\n            clearInterval(checkClosed);\r\n            // Check if auth was successful by checking localStorage or making a status call\r\n            const credentials = localStorage.getItem('google_calendar_credentials');\r\n            if (credentials) {\r\n              setCalendarIntegration(prev => ({ \r\n                ...prev, \r\n                authorized: true, \r\n                loading: false,\r\n                credentials: JSON.parse(credentials)\r\n              }));\r\n              localStorage.removeItem('google_calendar_credentials');\r\n            } else {\r\n              setCalendarIntegration(prev => ({ ...prev, loading: false }));\r\n            }\r\n          }\r\n        }, 1000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error with Google Calendar auth:', err);\r\n      setCalendarIntegration(prev => ({ ...prev, loading: false }));\r\n    }\r\n  };\r\n\r\n  const createCalendarEvents = async () => {\r\n    if (!recommendations?.exercise_recommendations || !calendarIntegration.authorized || !calendarIntegration.credentials) return;\r\n\r\n    setCalendarIntegration(prev => ({ ...prev, loading: true }));\r\n\r\n    try {\r\n      // Format exercise plan for the API\r\n      const exercisePlan = {\r\n        weekly_schedule: recommendations.exercise_recommendations.exercises?.map((exercise, index) => ({\r\n          day: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'][index % 7],\r\n          exercises: [{\r\n            name: exercise.name,\r\n            duration: exercise.duration || '30 minutes',\r\n            intensity: exercise.intensity || 'moderate',\r\n            description: exercise.description || ''\r\n          }]\r\n        })) || []\r\n      };\r\n\r\n      const response = await calendarAPI.createExerciseEvents({\r\n        credentials: calendarIntegration.credentials,\r\n        exercise_plan: exercisePlan,\r\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\r\n      });\r\n\r\n      if (response.success) {\r\n        setCalendarIntegration(prev => ({ \r\n          ...prev, \r\n          events: response.created_events,\r\n          loading: false \r\n        }));\r\n        alert(`Successfully created ${response.created_events.length} calendar events!`);\r\n      } else {\r\n        throw new Error('Failed to create calendar events');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating calendar events:', err);\r\n      setCalendarIntegration(prev => ({ ...prev, loading: false }));\r\n      alert('Failed to create calendar events. Please try again.');\r\n    }\r\n  };\r\n\r\n  const scheduleToCalendar = async (type, item) => {\r\n    try {\r\n      const response = await calendarAPI.createEvent({\r\n        title: `${type}: ${item.name || item.category}`,\r\n        description: item.description || item.notes || '',\r\n        start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(), // Tomorrow\r\n        duration_minutes: type === 'Exercise' ? 30 : 60\r\n      });\r\n\r\n      if (response.success) {\r\n        alert(`${type} scheduled successfully!`);\r\n      } else {\r\n        alert(`Failed to schedule ${type}`);\r\n      }\r\n    } catch (err) {\r\n      alert(`Error scheduling ${type}: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const renderStepIndicator = () => {\r\n    const steps = [\r\n      { id: 'upload', label: 'Upload', icon: Upload },\r\n      { id: 'ocr', label: 'Extract Text', icon: FileText },\r\n      { id: 'analysis', label: 'Diagnose', icon: Stethoscope },\r\n      { id: 'recommendations', label: 'Recommendations', icon: Activity }\r\n    ];\r\n\r\n    const stepIndex = steps.findIndex(step => step.id === currentStep);\r\n\r\n    return (\r\n      <div className=\"flex items-center justify-center mb-6\">\r\n        {steps.map((step, index) => {\r\n          const Icon = step.icon;\r\n          const isActive = index <= stepIndex;\r\n          const isCurrent = step.id === currentStep;\r\n          \r\n          return (\r\n            <React.Fragment key={step.id}>\r\n              <div className={`flex items-center justify-center w-10 h-10 rounded-full ${\r\n                isActive ? 'bg-primary-500 text-white' : 'bg-gray-200 text-gray-500'\r\n              } ${isCurrent ? 'ring-2 ring-primary-300' : ''}`}>\r\n                <Icon className=\"w-5 h-5\" />\r\n              </div>\r\n              {index < steps.length - 1 && (\r\n                <div className={`w-12 h-1 mx-2 ${\r\n                  index < stepIndex ? 'bg-primary-500' : 'bg-gray-200'\r\n                }`} />\r\n              )}\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderUploadSection = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"glass-card rounded-2xl p-6\"\r\n    >\r\n      <div className=\"text-center mb-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2\">\r\n          Upload Prescription\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n          Drag & drop your prescription image or click to browse\r\n        </p>\r\n      </div>\r\n\r\n      <div\r\n        {...getRootProps()}\r\n        className={`upload-zone ${isDragActive ? 'upload-zone-active' : ''} ${\r\n          isProcessing ? 'pointer-events-none opacity-50' : ''\r\n        }`}\r\n      >\r\n        <input {...getInputProps()} />\r\n        \r\n        <AnimatePresence mode=\"wait\">\r\n          {!preview ? (\r\n            <motion.div\r\n              key=\"upload-prompt\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              <div className=\"flex justify-center\">\r\n                <div className=\"w-16 h-16 bg-gradient-to-r from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center\">\r\n                  <Upload className=\"w-8 h-8 text-primary-600 dark:text-primary-400\" />\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <p className=\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\">\r\n                  {isDragActive ? 'Drop your file here' : 'Choose a file or drag it here'}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Supports JPG, PNG, GIF, BMP, and PDF files\r\n                </p>\r\n              </div>\r\n            </motion.div>\r\n          ) : (\r\n            <motion.div\r\n              key=\"preview\"\r\n              initial={{ opacity: 0, scale: 0.9 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.9 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              <div className=\"relative\">\r\n                {fileName.toLowerCase().endsWith('.pdf') ? (\r\n                  <div className=\"w-full h-32 bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/20 dark:to-red-800/20 rounded-lg flex items-center justify-center\">\r\n                    <FileText className=\"w-12 h-12 text-red-500\" />\r\n                  </div>\r\n                ) : (\r\n                  <img \r\n                    src={preview} \r\n                    alt=\"Preview\" \r\n                    className=\"w-full h-32 object-cover rounded-lg\"\r\n                  />\r\n                )}\r\n                \r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    clearFile();\r\n                  }}\r\n                  className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"text-center\">\r\n                <p className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">\r\n                  {fileName}\r\n                </p>\r\n                <p className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                  Click to change file\r\n                </p>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {preview && (\r\n        <div className=\"space-y-3 mt-6\">\r\n          <motion.button\r\n            onClick={processOCR}\r\n            disabled={isProcessing}\r\n            className=\"w-full btn-primary flex items-center justify-center space-x-2\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <FileText className=\"w-4 h-4\" />\r\n            <span>{isProcessing ? 'Processing...' : 'Extract Text'}</span>\r\n          </motion.button>\r\n          \r\n          <motion.button\r\n            onClick={handleHealthAnalysis}\r\n            disabled={isProcessing || !uploadedFile}\r\n            className=\"w-full btn-secondary flex items-center justify-center space-x-2\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <Stethoscope className=\"w-4 h-4\" />\r\n            <span>{isProcessing ? 'Analyzing...' : 'Health Analysis'}</span>\r\n          </motion.button>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n\r\n  const renderAnalysisSection = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"glass-card rounded-2xl p-6 mt-6\"\r\n    >\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\">\r\n          <Brain className=\"w-6 h-6 mr-2 text-primary-600\" />\r\n          AI Analysis\r\n        </h3>\r\n        {ocrText && (\r\n          <motion.button\r\n            onClick={diagnoseDiseases}\r\n            disabled={isProcessing}\r\n            className=\"btn-primary flex items-center space-x-2\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <Stethoscope className=\"w-4 h-4\" />\r\n            <span>{isProcessing ? 'Diagnosing...' : 'Diagnose Disease'}</span>\r\n          </motion.button>\r\n        )}\r\n      </div>\r\n\r\n      {ocrText && (\r\n        <div className=\"mb-4\">\r\n          <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Extracted Text:</h4>\r\n          <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-700 dark:text-gray-300 max-h-32 overflow-y-auto\">\r\n            {ocrText}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {analysisResult && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center space-x-2 text-green-600\">\r\n            <CheckCircle className=\"w-5 h-5\" />\r\n            <span className=\"font-medium\">{analysisResult.message}</span>\r\n          </div>\r\n\r\n          {analysisResult?.extracted_info?.medical_conditions?.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Detected Conditions:</h4>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {analysisResult.extracted_info.medical_conditions.map((condition, index) => (\r\n                  <span key={index} className=\"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm\">\r\n                    {condition}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {analysisResult?.extracted_info?.medications?.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Medications:</h4>\r\n              <div className=\"space-y-2\">\r\n                {analysisResult.extracted_info.medications.map((med, index) => (\r\n                  <div key={index} className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3\">\r\n                    <div className=\"font-medium text-blue-800 dark:text-blue-200\">{med.name}</div>\r\n                    {med.dosage && <div className=\"text-sm text-blue-600 dark:text-blue-300\">Dosage: {med.dosage}</div>}\r\n                    {med.frequency && <div className=\"text-sm text-blue-600 dark:text-blue-300\">Frequency: {med.frequency}</div>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n\r\n  const renderRecommendations = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"space-y-6 mt-6\"\r\n    >\r\n      {/* Diet Chart Section */}\r\n      {recommendations?.dietChart && (\r\n        <div className=\"glass-card rounded-2xl p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\">\r\n              <Utensils className=\"w-6 h-6 mr-2 text-orange-600\" />\r\n              7-Day Diet Chart\r\n            </h3>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {recommendations.dietChart.diet_plan?.map((day, index) => (\r\n              <div key={index} className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\r\n                <h4 className=\"font-medium text-orange-800 dark:text-orange-200 mb-3\">\r\n                  Day {day.day} - {day.day_name}\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n                  {day.meals?.map((meal, mealIndex) => (\r\n                    <div key={mealIndex} className=\"bg-white dark:bg-gray-800 rounded-lg p-3\">\r\n                      <h5 className=\"font-medium text-orange-700 dark:text-orange-300 capitalize mb-2\">\r\n                        {meal.meal_type}\r\n                      </h5>\r\n                      <ul className=\"text-sm text-gray-600 dark:text-gray-400 space-y-1\">\r\n                        {meal.foods?.map((food, foodIndex) => (\r\n                          <li key={foodIndex}> {food}</li>\r\n                        ))}\r\n                      </ul>\r\n                      <div className=\"text-xs text-gray-500 dark:text-gray-500 mt-2\">\r\n                        {meal.calories} cal | {meal.preparation_time}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"mt-3 text-sm text-orange-600 dark:text-orange-400\">\r\n                  <strong>Focus:</strong> {day.nutritional_focus} | <strong>Total:</strong> {day.total_calories} calories\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {recommendations.dietChart.general_guidelines && (\r\n              <div className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\r\n                <h4 className=\"font-medium text-orange-800 dark:text-orange-200 mb-2\">General Guidelines:</h4>\r\n                <ul className=\"text-sm text-orange-700 dark:text-orange-300 space-y-1\">\r\n                  {recommendations.dietChart.general_guidelines.map((guideline, index) => (\r\n                    <li key={index}> {guideline}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Exercise Plan Section */}\r\n      {recommendations?.exercisePlan && (\r\n        <div className=\"glass-card rounded-2xl p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\">\r\n              <Activity className=\"w-6 h-6 mr-2 text-green-600\" />\r\n              Weekly Exercise Plan\r\n            </h3>\r\n            \r\n            {/* Google Calendar Integration */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              {!calendarIntegration.authorized ? (\r\n                <button\r\n                  onClick={handleGoogleCalendarAuth}\r\n                  disabled={calendarIntegration.loading}\r\n                  className=\"btn-sm btn-primary flex items-center space-x-2\"\r\n                >\r\n                  <Calendar className=\"w-4 h-4\" />\r\n                  <span>{calendarIntegration.loading ? 'Connecting...' : 'Connect Google Calendar'}</span>\r\n                </button>\r\n              ) : (\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className=\"flex items-center space-x-1 text-green-600\">\r\n                    <CheckCircle className=\"w-4 h-4\" />\r\n                    <span className=\"text-sm\">Calendar Connected</span>\r\n                  </div>\r\n                  <button\r\n                    onClick={createCalendarEvents}\r\n                    disabled={calendarIntegration.loading}\r\n                    className=\"btn-sm btn-secondary flex items-center space-x-1\"\r\n                  >\r\n                    <Calendar className=\"w-4 h-4\" />\r\n                    <span>{calendarIntegration.loading ? 'Creating...' : 'Schedule All'}</span>\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {recommendations.exercisePlan.weekly_plan?.map((week, weekIndex) => (\r\n              <div key={weekIndex} className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\">\r\n                <h4 className=\"font-medium text-green-800 dark:text-green-200 mb-3\">\r\n                  Week {week.week_number}\r\n                </h4>\r\n                <div className=\"space-y-3\">\r\n                  {week.exercises?.map((exercise, exerciseIndex) => (\r\n                    <div key={exerciseIndex} className=\"bg-white dark:bg-gray-800 rounded-lg p-3\">\r\n                      <div className=\"flex justify-between items-start mb-2\">\r\n                        <h5 className=\"font-medium text-green-700 dark:text-green-300\">{exercise.name}</h5>\r\n                        <button\r\n                          onClick={() => scheduleToCalendar('Exercise', exercise)}\r\n                          className=\"btn-sm btn-secondary flex items-center space-x-1\"\r\n                        >\r\n                          <Calendar className=\"w-4 h-4\" />\r\n                          <span>Schedule</span>\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"grid grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                        <div><strong>Type:</strong> {exercise.type}</div>\r\n                        <div><strong>Duration:</strong> {exercise.duration}</div>\r\n                        <div><strong>Intensity:</strong> {exercise.intensity}</div>\r\n                        <div><strong>Frequency:</strong> {exercise.frequency}</div>\r\n                      </div>\r\n                      <p className=\"text-sm text-green-600 dark:text-green-400 mb-2\">{exercise.description}</p>\r\n                      {exercise.benefits && (\r\n                        <div className=\"text-sm text-green-700 dark:text-green-300 mb-2\">\r\n                          <strong>Benefits:</strong> {exercise.benefits.join(', ')}\r\n                        </div>\r\n                      )}\r\n                      {exercise.precautions && (\r\n                        <p className=\"text-sm text-orange-600 dark:text-orange-400\">\r\n                          <AlertCircle className=\"w-4 h-4 inline mr-1\" />\r\n                          <strong>Precautions:</strong> {exercise.precautions.join(', ')}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {recommendations.exercisePlan.general_guidelines && (\r\n              <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\">\r\n                <h4 className=\"font-medium text-green-800 dark:text-green-200 mb-2\">General Guidelines:</h4>\r\n                <ul className=\"text-sm text-green-700 dark:text-green-300 space-y-1\">\r\n                  {recommendations.exercisePlan.general_guidelines.map((guideline, index) => (\r\n                    <li key={index}> {guideline}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            \r\n            {calendarIntegration.events.length > 0 && (\r\n              <div className=\"mt-4\">\r\n                <h4 className=\"font-medium text-gray-800 dark:text-gray-200 mb-2\">Scheduled Events:</h4>\r\n                <div className=\"space-y-2\">\r\n                  {calendarIntegration.events.map((event, index) => (\r\n                    <div key={index} className=\"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg\">\r\n                      <div className=\"font-medium text-green-800 dark:text-green-200\">{event.exercise_name}</div>\r\n                      <div className=\"text-sm text-green-600 dark:text-green-400\">\r\n                        {event.date} at {event.time}\r\n                      </div>\r\n                      {event.event_link && (\r\n                        <a \r\n                          href={event.event_link} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\r\n                        >\r\n                          View in Google Calendar\r\n                        </a>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {recommendations?.dietary_recommendations && (\r\n        <div className=\"glass-card rounded-2xl p-6\">\r\n          <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center mb-4\">\r\n            <Utensils className=\"w-6 h-6 mr-2 text-orange-600\" />\r\n            Dietary Recommendations\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            {recommendations.dietary_recommendations.foods?.map((food, index) => (\r\n              <div key={index} className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <h4 className=\"font-medium text-orange-800 dark:text-orange-200\">{food.category}</h4>\r\n                  <button\r\n                    onClick={() => scheduleToCalendar('Diet Plan', food)}\r\n                    className=\"btn-sm btn-secondary flex items-center space-x-1\"\r\n                  >\r\n                    <Calendar className=\"w-4 h-4\" />\r\n                    <span>Schedule</span>\r\n                  </button>\r\n                </div>\r\n                {food.recommended && (\r\n                  <p className=\"text-sm text-green-700 dark:text-green-300 mb-1\">\r\n                    <strong>Recommended:</strong> {food.recommended.join(', ')}\r\n                  </p>\r\n                )}\r\n                {food.avoid && (\r\n                  <p className=\"text-sm text-red-700 dark:text-red-300 mb-1\">\r\n                    <strong>Avoid:</strong> {food.avoid.join(', ')}\r\n                  </p>\r\n                )}\r\n                {food.notes && (\r\n                  <p className=\"text-sm text-orange-600 dark:text-orange-400\">{food.notes}</p>\r\n                )}\r\n              </div>\r\n            )) || (\r\n              <div className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\r\n                <p className=\"text-orange-700 dark:text-orange-300\">{recommendations.dietary_recommendations}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\">\r\n      <div className=\"text-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2\">\r\n          AI-Powered Prescription Analysis\r\n        </h2>\r\n        <p className=\"text-gray-600 dark:text-gray-400\">\r\n          Upload your prescription for intelligent disease diagnosis and personalized health recommendations\r\n        </p>\r\n      </div>\r\n\r\n      {renderStepIndicator()}\r\n      \r\n      {renderUploadSection()}\r\n      \r\n      {(ocrText || analysisResult) && renderAnalysisSection()}\r\n      \r\n      {recommendations && renderRecommendations()}\r\n\r\n      {error && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\"\r\n        >\r\n          <div className=\"flex items-center space-x-2 text-red-700 dark:text-red-300\">\r\n            <AlertCircle className=\"w-5 h-5\" />\r\n            <span>{error}</span>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {isProcessing && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          className=\"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\"\r\n        >\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"typing-indicator\">\r\n              <div className=\"typing-dot\"></div>\r\n              <div className=\"typing-dot\"></div>\r\n              <div className=\"typing-dot\"></div>\r\n            </div>\r\n            <span className=\"text-sm text-blue-700 dark:text-blue-300\">\r\n              {currentStep === 'ocr' ? 'Extracting text from prescription...' :\r\n               currentStep === 'analysis' ? 'Analyzing medical conditions...' :\r\n               'Processing your request...'}\r\n            </span>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrescriptionUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}