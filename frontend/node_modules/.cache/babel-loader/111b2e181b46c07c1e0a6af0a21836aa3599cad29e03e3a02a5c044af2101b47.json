{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\Tsunade\\\\Tsunade\\\\frontend\\\\src\\\\components\\\\PrescriptionUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useDropzone } from 'react-dropzone';\nimport { Upload, Camera, FileText, X, Image as ImageIcon, Stethoscope, Activity, Calendar, Utensils, AlertCircle, CheckCircle, Clock, Brain } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrescriptionUpload = () => {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [ocrText, setOcrText] = useState('');\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [recommendations, setRecommendations] = useState(null);\n  const [error, setError] = useState('');\n  const [currentStep, setCurrentStep] = useState('upload'); // upload, ocr, analysis, recommendations\n\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setUploadedFile(file);\n      setFileName(file.name);\n      setError('');\n\n      // Create preview\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n      setCurrentStep('upload');\n    }\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.bmp'],\n      'application/pdf': ['.pdf']\n    },\n    multiple: false\n  });\n  const clearFile = () => {\n    setUploadedFile(null);\n    setPreview(null);\n    setFileName('');\n    setOcrText('');\n    setAnalysisResult(null);\n    setRecommendations(null);\n    setError('');\n    setCurrentStep('upload');\n  };\n  const processOCR = async () => {\n    if (!uploadedFile) {\n      setError('Please upload a file first');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    setCurrentStep('ocr');\n    try {\n      const formData = new FormData();\n      formData.append('file', uploadedFile);\n      const response = await fetch('/api/v1/ocr', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          setOcrText(data.text);\n          setCurrentStep('analysis');\n        } else {\n          setError(data.message || 'Failed to extract text from image');\n        }\n      } else {\n        setError('Failed to process image');\n      }\n    } catch (err) {\n      setError('Error processing image: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const diagnoseDiseases = async () => {\n    if (!ocrText) {\n      setError('No text available for analysis');\n      return;\n    }\n    setIsProcessing(true);\n    setError('');\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/analyze-prescription', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          prescription_text: ocrText,\n          auto_update_profile: true\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setAnalysisResult(data);\n\n        // Get personalized recommendations based on detected conditions\n        if (data.extracted_info.medical_conditions.length > 0) {\n          await getPersonalizedRecommendations(data.extracted_info.medical_conditions);\n        }\n        setCurrentStep('recommendations');\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || 'Failed to analyze prescription');\n      }\n    } catch (err) {\n      setError('Error analyzing prescription: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const getPersonalizedRecommendations = async conditions => {\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/health-recommendations/disease-specific', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          disease: conditions.join(', '),\n          severity: 'moderate',\n          user_context: {\n            age: 30,\n            gender: 'not_specified',\n            fitness_level: 'beginner'\n          }\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setRecommendations(data);\n      }\n    } catch (err) {\n      console.error('Error getting recommendations:', err);\n    }\n  };\n  const [calendarIntegration, setCalendarIntegration] = useState({\n    authorized: false,\n    loading: false,\n    events: [],\n    credentials: null\n  });\n\n  // Google Calendar Integration\n  const handleGoogleCalendarAuth = async () => {\n    setCalendarIntegration(prev => ({\n      ...prev,\n      loading: true\n    }));\n    try {\n      const response = await fetch('/api/v1/calendar/auth-url', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          state: 'prescription_analysis'\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        // Open Google OAuth in a new window\n        const authWindow = window.open(data.authorization_url, 'google-auth', 'width=500,height=600,scrollbars=yes,resizable=yes');\n\n        // Listen for the auth completion\n        const checkClosed = setInterval(() => {\n          if (authWindow.closed) {\n            clearInterval(checkClosed);\n            // Check if auth was successful by checking localStorage or making a status call\n            const credentials = localStorage.getItem('google_calendar_credentials');\n            if (credentials) {\n              setCalendarIntegration(prev => ({\n                ...prev,\n                authorized: true,\n                loading: false,\n                credentials: JSON.parse(credentials)\n              }));\n              localStorage.removeItem('google_calendar_credentials');\n            } else {\n              setCalendarIntegration(prev => ({\n                ...prev,\n                loading: false\n              }));\n            }\n          }\n        }, 1000);\n      }\n    } catch (err) {\n      console.error('Error with Google Calendar auth:', err);\n      setCalendarIntegration(prev => ({\n        ...prev,\n        loading: false\n      }));\n    }\n  };\n  const createCalendarEvents = async () => {\n    if (!(recommendations !== null && recommendations !== void 0 && recommendations.exercise_recommendations) || !calendarIntegration.authorized || !calendarIntegration.credentials) return;\n    setCalendarIntegration(prev => ({\n      ...prev,\n      loading: true\n    }));\n    try {\n      var _recommendations$exer;\n      // Format exercise plan for the API\n      const exercisePlan = {\n        weekly_schedule: ((_recommendations$exer = recommendations.exercise_recommendations.exercises) === null || _recommendations$exer === void 0 ? void 0 : _recommendations$exer.map((exercise, index) => ({\n          day: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'][index % 7],\n          exercises: [{\n            name: exercise.name,\n            duration: exercise.duration || '30 minutes',\n            intensity: exercise.intensity || 'moderate',\n            description: exercise.description || ''\n          }]\n        }))) || []\n      };\n      const response = await fetch('/api/v1/calendar/create-exercise-events', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          credentials: calendarIntegration.credentials,\n          exercise_plan: exercisePlan,\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setCalendarIntegration(prev => ({\n          ...prev,\n          events: data.created_events,\n          loading: false\n        }));\n        alert(`Successfully created ${data.created_events.length} calendar events!`);\n      } else {\n        throw new Error('Failed to create calendar events');\n      }\n    } catch (err) {\n      console.error('Error creating calendar events:', err);\n      setCalendarIntegration(prev => ({\n        ...prev,\n        loading: false\n      }));\n      alert('Failed to create calendar events. Please try again.');\n    }\n  };\n  const scheduleToCalendar = async (type, item) => {\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/calendar/create-event', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: `${type}: ${item.name || item.category}`,\n          description: item.description || item.notes || '',\n          start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n          // Tomorrow\n          duration_minutes: type === 'Exercise' ? 30 : 60\n        })\n      });\n      if (response.ok) {\n        alert(`${type} scheduled successfully!`);\n      } else {\n        alert(`Failed to schedule ${type}`);\n      }\n    } catch (err) {\n      alert(`Error scheduling ${type}: ${err.message}`);\n    }\n  };\n  const renderStepIndicator = () => {\n    const steps = [{\n      id: 'upload',\n      label: 'Upload',\n      icon: Upload\n    }, {\n      id: 'ocr',\n      label: 'Extract Text',\n      icon: FileText\n    }, {\n      id: 'analysis',\n      label: 'Diagnose',\n      icon: Stethoscope\n    }, {\n      id: 'recommendations',\n      label: 'Recommendations',\n      icon: Activity\n    }];\n    const stepIndex = steps.findIndex(step => step.id === currentStep);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center mb-6\",\n      children: steps.map((step, index) => {\n        const Icon = step.icon;\n        const isActive = index <= stepIndex;\n        const isCurrent = step.id === currentStep;\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-center w-10 h-10 rounded-full ${isActive ? 'bg-primary-500 text-white' : 'bg-gray-200 text-gray-500'} ${isCurrent ? 'ring-2 ring-primary-300' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), index < steps.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-12 h-1 mx-2 ${index < stepIndex ? 'bg-primary-500' : 'bg-gray-200'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this)]\n        }, step.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this);\n  };\n  const renderUploadSection = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"glass-card rounded-2xl p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2\",\n        children: \"Upload Prescription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 dark:text-gray-400\",\n        children: \"Drag & drop your prescription image or click to browse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `upload-zone ${isDragActive ? 'upload-zone-active' : ''} ${isProcessing ? 'pointer-events-none opacity-50' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        mode: \"wait\",\n        children: !preview ? /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          exit: {\n            opacity: 0\n          },\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Upload, {\n                className: \"w-8 h-8 text-primary-600 dark:text-primary-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\",\n              children: isDragActive ? 'Drop your file here' : 'Choose a file or drag it here'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 dark:text-gray-400\",\n              children: \"Supports JPG, PNG, GIF, BMP, and PDF files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)]\n        }, \"upload-prompt\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            scale: 0.9\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          exit: {\n            opacity: 0,\n            scale: 0.9\n          },\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [fileName.toLowerCase().endsWith('.pdf') ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-32 bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/20 dark:to-red-800/20 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(FileText, {\n                className: \"w-12 h-12 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: preview,\n              alt: \"Preview\",\n              className: \"w-full h-32 object-cover rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                clearFile();\n              },\n              className: \"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-800 dark:text-gray-200\",\n              children: fileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600 dark:text-gray-400\",\n              children: \"Click to change file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, \"preview\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-3 mt-6\",\n      children: /*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: processOCR,\n        disabled: isProcessing,\n        className: \"flex-1 btn-primary flex items-center justify-center space-x-2\",\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isProcessing ? 'Processing...' : 'Extract Text'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 349,\n    columnNumber: 5\n  }, this);\n  const renderAnalysisSection = () => /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"glass-card rounded-2xl p-6 mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"w-6 h-6 mr-2 text-primary-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), \"AI Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), ocrText && /*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: diagnoseDiseases,\n        disabled: isProcessing,\n        className: \"btn-primary flex items-center space-x-2\",\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stethoscope, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isProcessing ? 'Diagnosing...' : 'Diagnose Disease'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), ocrText && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n        children: \"Extracted Text:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-700 dark:text-gray-300 max-h-32 overflow-y-auto\",\n        children: ocrText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 9\n    }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 text-green-600\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: analysisResult.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this), analysisResult.extracted_info.medical_conditions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n          children: \"Detected Conditions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: analysisResult.extracted_info.medical_conditions.map((condition, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm\",\n            children: condition\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 13\n      }, this), analysisResult.extracted_info.medications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n          children: \"Medications:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: analysisResult.extracted_info.medications.map((med, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-blue-800 dark:text-blue-200\",\n              children: med.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 21\n            }, this), med.dosage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-600 dark:text-blue-300\",\n              children: [\"Dosage: \", med.dosage]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 36\n            }, this), med.frequency && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-600 dark:text-blue-300\",\n              children: [\"Frequency: \", med.frequency]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 39\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 458,\n    columnNumber: 5\n  }, this);\n  const renderRecommendations = () => {\n    var _recommendations$exer2, _recommendations$diet;\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"space-y-6 mt-6\",\n      children: [(recommendations === null || recommendations === void 0 ? void 0 : recommendations.exercise_recommendations) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-6 h-6 mr-2 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), \"Exercise Recommendations\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: !calendarIntegration.authorized ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGoogleCalendarAuth,\n              disabled: calendarIntegration.loading,\n              className: \"btn-sm btn-primary flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: calendarIntegration.loading ? 'Connecting...' : 'Connect Google Calendar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-1 text-green-600\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: \"Calendar Connected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: createCalendarEvents,\n                disabled: calendarIntegration.loading,\n                className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: calendarIntegration.loading ? 'Creating...' : 'Schedule All'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [((_recommendations$exer2 = recommendations.exercise_recommendations.exercises) === null || _recommendations$exer2 === void 0 ? void 0 : _recommendations$exer2.map((exercise, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-green-800 dark:text-green-200\",\n                children: exercise.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scheduleToCalendar('Exercise', exercise),\n                className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-700 dark:text-green-300 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 19\n              }, this), \" \", exercise.type, \" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Duration:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 60\n              }, this), \" \", exercise.duration, \" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Intensity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 109\n              }, this), \" \", exercise.intensity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-600 dark:text-green-400\",\n              children: exercise.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 17\n            }, this), exercise.precautions && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-orange-600 dark:text-orange-400 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"w-4 h-4 inline mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 21\n              }, this), exercise.precautions]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this))) || /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-700 dark:text-green-300\",\n              children: recommendations.exercise_recommendations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this), calendarIntegration.events.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-800 dark:text-gray-200 mb-2\",\n              children: \"Scheduled Events:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: calendarIntegration.events.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-green-800 dark:text-green-200\",\n                  children: event.exercise_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-green-600 dark:text-green-400\",\n                  children: [event.date, \" at \", event.time]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 23\n                }, this), event.event_link && /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: event.event_link,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"text-xs text-blue-600 dark:text-blue-400 hover:underline\",\n                  children: \"View in Google Calendar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), (recommendations === null || recommendations === void 0 ? void 0 : recommendations.dietary_recommendations) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card rounded-2xl p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Utensils, {\n            className: \"w-6 h-6 mr-2 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 13\n          }, this), \"Dietary Recommendations\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: ((_recommendations$diet = recommendations.dietary_recommendations.foods) === null || _recommendations$diet === void 0 ? void 0 : _recommendations$diet.map((food, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-orange-800 dark:text-orange-200\",\n                children: food.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => scheduleToCalendar('Diet Plan', food),\n                className: \"btn-sm btn-secondary flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), food.recommended && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-700 dark:text-green-300 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Recommended:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 21\n              }, this), \" \", food.recommended.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 19\n            }, this), food.avoid && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-700 dark:text-red-300 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Avoid:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this), \" \", food.avoid.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 19\n            }, this), food.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-orange-600 dark:text-orange-400\",\n              children: food.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this))) || /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-orange-700 dark:text-orange-300\",\n              children: recommendations.dietary_recommendations\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 5\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2\",\n        children: \"AI-Powered Prescription Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-400\",\n        children: \"Upload your prescription for intelligent disease diagnosis and personalized health recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 7\n    }, this), renderStepIndicator(), renderUploadSection(), (ocrText || analysisResult) && renderAnalysisSection(), recommendations && renderRecommendations(), error && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 text-red-700 dark:text-red-300\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 9\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-blue-700 dark:text-blue-300\",\n          children: currentStep === 'ocr' ? 'Extracting text from prescription...' : currentStep === 'analysis' ? 'Analyzing medical conditions...' : 'Processing your request...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 678,\n    columnNumber: 5\n  }, this);\n};\n_s(PrescriptionUpload, \"0xmmgpwvMPEYolSx5hGr0tbC/bk=\", false, function () {\n  return [useDropzone];\n});\n_c = PrescriptionUpload;\nexport default PrescriptionUpload;\nvar _c;\n$RefreshReg$(_c, \"PrescriptionUpload\");","map":{"version":3,"names":["React","useState","useCallback","motion","AnimatePresence","useDropzone","Upload","Camera","FileText","X","Image","ImageIcon","Stethoscope","Activity","Calendar","Utensils","AlertCircle","CheckCircle","Clock","Brain","jsxDEV","_jsxDEV","PrescriptionUpload","_s","uploadedFile","setUploadedFile","preview","setPreview","fileName","setFileName","isProcessing","setIsProcessing","ocrText","setOcrText","analysisResult","setAnalysisResult","recommendations","setRecommendations","error","setError","currentStep","setCurrentStep","onDrop","acceptedFiles","file","name","reader","FileReader","onload","result","readAsDataURL","getRootProps","getInputProps","isDragActive","accept","multiple","clearFile","processOCR","formData","FormData","append","response","fetch","method","body","ok","data","json","success","text","message","err","diagnoseDiseases","token","localStorage","getItem","headers","JSON","stringify","prescription_text","auto_update_profile","extracted_info","medical_conditions","length","getPersonalizedRecommendations","errorData","detail","conditions","disease","join","severity","user_context","age","gender","fitness_level","console","calendarIntegration","setCalendarIntegration","authorized","loading","events","credentials","handleGoogleCalendarAuth","prev","state","authWindow","window","open","authorization_url","checkClosed","setInterval","closed","clearInterval","parse","removeItem","createCalendarEvents","exercise_recommendations","_recommendations$exer","exercisePlan","weekly_schedule","exercises","map","exercise","index","day","duration","intensity","description","exercise_plan","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","created_events","alert","Error","scheduleToCalendar","type","item","title","category","notes","start_time","Date","now","toISOString","duration_minutes","renderStepIndicator","steps","id","label","icon","stepIndex","findIndex","step","className","children","Icon","isActive","isCurrent","Fragment","_jsxFileName","lineNumber","columnNumber","renderUploadSection","div","initial","opacity","y","animate","mode","exit","scale","toLowerCase","endsWith","src","alt","onClick","e","stopPropagation","button","disabled","whileHover","whileTap","renderAnalysisSection","condition","medications","med","dosage","frequency","renderRecommendations","_recommendations$exer2","_recommendations$diet","precautions","event","exercise_name","date","time","event_link","href","target","rel","dietary_recommendations","foods","food","recommended","avoid","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Downloads/Tsunade/Tsunade/frontend/src/components/PrescriptionUpload.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useDropzone } from 'react-dropzone';\nimport { \n  Upload, \n  Camera, \n  FileText, \n  X, \n  Image as ImageIcon, \n  Stethoscope, \n  Activity, \n  Calendar,\n  Utensils,\n  AlertCircle,\n  CheckCircle,\n  Clock,\n  Brain\n} from 'lucide-react';\n\nconst PrescriptionUpload = () => {\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [ocrText, setOcrText] = useState('');\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [recommendations, setRecommendations] = useState(null);\n  const [error, setError] = useState('');\n  const [currentStep, setCurrentStep] = useState('upload'); // upload, ocr, analysis, recommendations\n\n  const onDrop = useCallback((acceptedFiles) => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setUploadedFile(file);\n      setFileName(file.name);\n      setError('');\n      \n      // Create preview\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n      \n      setCurrentStep('upload');\n    }\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.bmp'],\n      'application/pdf': ['.pdf']\n    },\n    multiple: false\n  });\n\n  const clearFile = () => {\n    setUploadedFile(null);\n    setPreview(null);\n    setFileName('');\n    setOcrText('');\n    setAnalysisResult(null);\n    setRecommendations(null);\n    setError('');\n    setCurrentStep('upload');\n  };\n\n  const processOCR = async () => {\n    if (!uploadedFile) {\n      setError('Please upload a file first');\n      return;\n    }\n\n    setIsProcessing(true);\n    setError('');\n    setCurrentStep('ocr');\n\n    try {\n      const formData = new FormData();\n      formData.append('file', uploadedFile);\n\n      const response = await fetch('/api/v1/ocr', {\n        method: 'POST',\n        body: formData\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          setOcrText(data.text);\n          setCurrentStep('analysis');\n        } else {\n          setError(data.message || 'Failed to extract text from image');\n        }\n      } else {\n        setError('Failed to process image');\n      }\n    } catch (err) {\n      setError('Error processing image: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const diagnoseDiseases = async () => {\n    if (!ocrText) {\n      setError('No text available for analysis');\n      return;\n    }\n\n    setIsProcessing(true);\n    setError('');\n\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/analyze-prescription', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          prescription_text: ocrText,\n          auto_update_profile: true\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAnalysisResult(data);\n        \n        // Get personalized recommendations based on detected conditions\n        if (data.extracted_info.medical_conditions.length > 0) {\n          await getPersonalizedRecommendations(data.extracted_info.medical_conditions);\n        }\n        \n        setCurrentStep('recommendations');\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || 'Failed to analyze prescription');\n      }\n    } catch (err) {\n      setError('Error analyzing prescription: ' + err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const getPersonalizedRecommendations = async (conditions) => {\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/health-recommendations/disease-specific', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          disease: conditions.join(', '),\n          severity: 'moderate',\n          user_context: {\n            age: 30,\n            gender: 'not_specified',\n            fitness_level: 'beginner'\n          }\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setRecommendations(data);\n      }\n    } catch (err) {\n      console.error('Error getting recommendations:', err);\n    }\n  };\n\n  const [calendarIntegration, setCalendarIntegration] = useState({\n    authorized: false,\n    loading: false,\n    events: [],\n    credentials: null\n  });\n\n  // Google Calendar Integration\n  const handleGoogleCalendarAuth = async () => {\n    setCalendarIntegration(prev => ({ ...prev, loading: true }));\n\n    try {\n      const response = await fetch('/api/v1/calendar/auth-url', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ state: 'prescription_analysis' }),\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        // Open Google OAuth in a new window\n        const authWindow = window.open(\n          data.authorization_url, \n          'google-auth', \n          'width=500,height=600,scrollbars=yes,resizable=yes'\n        );\n        \n        // Listen for the auth completion\n        const checkClosed = setInterval(() => {\n          if (authWindow.closed) {\n            clearInterval(checkClosed);\n            // Check if auth was successful by checking localStorage or making a status call\n            const credentials = localStorage.getItem('google_calendar_credentials');\n            if (credentials) {\n              setCalendarIntegration(prev => ({ \n                ...prev, \n                authorized: true, \n                loading: false,\n                credentials: JSON.parse(credentials)\n              }));\n              localStorage.removeItem('google_calendar_credentials');\n            } else {\n              setCalendarIntegration(prev => ({ ...prev, loading: false }));\n            }\n          }\n        }, 1000);\n      }\n    } catch (err) {\n      console.error('Error with Google Calendar auth:', err);\n      setCalendarIntegration(prev => ({ ...prev, loading: false }));\n    }\n  };\n\n  const createCalendarEvents = async () => {\n    if (!recommendations?.exercise_recommendations || !calendarIntegration.authorized || !calendarIntegration.credentials) return;\n\n    setCalendarIntegration(prev => ({ ...prev, loading: true }));\n\n    try {\n      // Format exercise plan for the API\n      const exercisePlan = {\n        weekly_schedule: recommendations.exercise_recommendations.exercises?.map((exercise, index) => ({\n          day: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'][index % 7],\n          exercises: [{\n            name: exercise.name,\n            duration: exercise.duration || '30 minutes',\n            intensity: exercise.intensity || 'moderate',\n            description: exercise.description || ''\n          }]\n        })) || []\n      };\n\n      const response = await fetch('/api/v1/calendar/create-exercise-events', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          credentials: calendarIntegration.credentials,\n          exercise_plan: exercisePlan,\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\n        }),\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        setCalendarIntegration(prev => ({ \n          ...prev, \n          events: data.created_events,\n          loading: false \n        }));\n        alert(`Successfully created ${data.created_events.length} calendar events!`);\n      } else {\n        throw new Error('Failed to create calendar events');\n      }\n    } catch (err) {\n      console.error('Error creating calendar events:', err);\n      setCalendarIntegration(prev => ({ ...prev, loading: false }));\n      alert('Failed to create calendar events. Please try again.');\n    }\n  };\n\n  const scheduleToCalendar = async (type, item) => {\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch('/api/v1/calendar/create-event', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: `${type}: ${item.name || item.category}`,\n          description: item.description || item.notes || '',\n          start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(), // Tomorrow\n          duration_minutes: type === 'Exercise' ? 30 : 60\n        })\n      });\n\n      if (response.ok) {\n        alert(`${type} scheduled successfully!`);\n      } else {\n        alert(`Failed to schedule ${type}`);\n      }\n    } catch (err) {\n      alert(`Error scheduling ${type}: ${err.message}`);\n    }\n  };\n\n  const renderStepIndicator = () => {\n    const steps = [\n      { id: 'upload', label: 'Upload', icon: Upload },\n      { id: 'ocr', label: 'Extract Text', icon: FileText },\n      { id: 'analysis', label: 'Diagnose', icon: Stethoscope },\n      { id: 'recommendations', label: 'Recommendations', icon: Activity }\n    ];\n\n    const stepIndex = steps.findIndex(step => step.id === currentStep);\n\n    return (\n      <div className=\"flex items-center justify-center mb-6\">\n        {steps.map((step, index) => {\n          const Icon = step.icon;\n          const isActive = index <= stepIndex;\n          const isCurrent = step.id === currentStep;\n          \n          return (\n            <React.Fragment key={step.id}>\n              <div className={`flex items-center justify-center w-10 h-10 rounded-full ${\n                isActive ? 'bg-primary-500 text-white' : 'bg-gray-200 text-gray-500'\n              } ${isCurrent ? 'ring-2 ring-primary-300' : ''}`}>\n                <Icon className=\"w-5 h-5\" />\n              </div>\n              {index < steps.length - 1 && (\n                <div className={`w-12 h-1 mx-2 ${\n                  index < stepIndex ? 'bg-primary-500' : 'bg-gray-200'\n                }`} />\n              )}\n            </React.Fragment>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderUploadSection = () => (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"glass-card rounded-2xl p-6\"\n    >\n      <div className=\"text-center mb-6\">\n        <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2\">\n          Upload Prescription\n        </h3>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Drag & drop your prescription image or click to browse\n        </p>\n      </div>\n\n      <div\n        {...getRootProps()}\n        className={`upload-zone ${isDragActive ? 'upload-zone-active' : ''} ${\n          isProcessing ? 'pointer-events-none opacity-50' : ''\n        }`}\n      >\n        <input {...getInputProps()} />\n        \n        <AnimatePresence mode=\"wait\">\n          {!preview ? (\n            <motion.div\n              key=\"upload-prompt\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"space-y-4\"\n            >\n              <div className=\"flex justify-center\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center\">\n                  <Upload className=\"w-8 h-8 text-primary-600 dark:text-primary-400\" />\n                </div>\n              </div>\n              \n              <div>\n                <p className=\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\">\n                  {isDragActive ? 'Drop your file here' : 'Choose a file or drag it here'}\n                </p>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  Supports JPG, PNG, GIF, BMP, and PDF files\n                </p>\n              </div>\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"preview\"\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.9 }}\n              className=\"space-y-4\"\n            >\n              <div className=\"relative\">\n                {fileName.toLowerCase().endsWith('.pdf') ? (\n                  <div className=\"w-full h-32 bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/20 dark:to-red-800/20 rounded-lg flex items-center justify-center\">\n                    <FileText className=\"w-12 h-12 text-red-500\" />\n                  </div>\n                ) : (\n                  <img \n                    src={preview} \n                    alt=\"Preview\" \n                    className=\"w-full h-32 object-cover rounded-lg\"\n                  />\n                )}\n                \n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    clearFile();\n                  }}\n                  className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </button>\n              </div>\n              \n              <div className=\"text-center\">\n                <p className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">\n                  {fileName}\n                </p>\n                <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                  Click to change file\n                </p>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {preview && (\n        <div className=\"flex space-x-3 mt-6\">\n          <motion.button\n            onClick={processOCR}\n            disabled={isProcessing}\n            className=\"flex-1 btn-primary flex items-center justify-center space-x-2\"\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            <FileText className=\"w-4 h-4\" />\n            <span>{isProcessing ? 'Processing...' : 'Extract Text'}</span>\n          </motion.button>\n        </div>\n      )}\n    </motion.div>\n  );\n\n  const renderAnalysisSection = () => (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"glass-card rounded-2xl p-6 mt-6\"\n    >\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\">\n          <Brain className=\"w-6 h-6 mr-2 text-primary-600\" />\n          AI Analysis\n        </h3>\n        {ocrText && (\n          <motion.button\n            onClick={diagnoseDiseases}\n            disabled={isProcessing}\n            className=\"btn-primary flex items-center space-x-2\"\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            <Stethoscope className=\"w-4 h-4\" />\n            <span>{isProcessing ? 'Diagnosing...' : 'Diagnose Disease'}</span>\n          </motion.button>\n        )}\n      </div>\n\n      {ocrText && (\n        <div className=\"mb-4\">\n          <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Extracted Text:</h4>\n          <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-700 dark:text-gray-300 max-h-32 overflow-y-auto\">\n            {ocrText}\n          </div>\n        </div>\n      )}\n\n      {analysisResult && (\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center space-x-2 text-green-600\">\n            <CheckCircle className=\"w-5 h-5\" />\n            <span className=\"font-medium\">{analysisResult.message}</span>\n          </div>\n\n          {analysisResult.extracted_info.medical_conditions.length > 0 && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Detected Conditions:</h4>\n              <div className=\"flex flex-wrap gap-2\">\n                {analysisResult.extracted_info.medical_conditions.map((condition, index) => (\n                  <span key={index} className=\"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm\">\n                    {condition}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {analysisResult.extracted_info.medications.length > 0 && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Medications:</h4>\n              <div className=\"space-y-2\">\n                {analysisResult.extracted_info.medications.map((med, index) => (\n                  <div key={index} className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3\">\n                    <div className=\"font-medium text-blue-800 dark:text-blue-200\">{med.name}</div>\n                    {med.dosage && <div className=\"text-sm text-blue-600 dark:text-blue-300\">Dosage: {med.dosage}</div>}\n                    {med.frequency && <div className=\"text-sm text-blue-600 dark:text-blue-300\">Frequency: {med.frequency}</div>}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </motion.div>\n  );\n\n  const renderRecommendations = () => (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"space-y-6 mt-6\"\n    >\n      {recommendations?.exercise_recommendations && (\n        <div className=\"glass-card rounded-2xl p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center\">\n              <Activity className=\"w-6 h-6 mr-2 text-green-600\" />\n              Exercise Recommendations\n            </h3>\n            \n            {/* Google Calendar Integration */}\n            <div className=\"flex items-center space-x-2\">\n              {!calendarIntegration.authorized ? (\n                <button\n                  onClick={handleGoogleCalendarAuth}\n                  disabled={calendarIntegration.loading}\n                  className=\"btn-sm btn-primary flex items-center space-x-2\"\n                >\n                  <Calendar className=\"w-4 h-4\" />\n                  <span>{calendarIntegration.loading ? 'Connecting...' : 'Connect Google Calendar'}</span>\n                </button>\n              ) : (\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"flex items-center space-x-1 text-green-600\">\n                    <CheckCircle className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">Calendar Connected</span>\n                  </div>\n                  <button\n                    onClick={createCalendarEvents}\n                    disabled={calendarIntegration.loading}\n                    className=\"btn-sm btn-secondary flex items-center space-x-1\"\n                  >\n                    <Calendar className=\"w-4 h-4\" />\n                    <span>{calendarIntegration.loading ? 'Creating...' : 'Schedule All'}</span>\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"space-y-4\">\n            {recommendations.exercise_recommendations.exercises?.map((exercise, index) => (\n              <div key={index} className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h4 className=\"font-medium text-green-800 dark:text-green-200\">{exercise.name}</h4>\n                  <button\n                    onClick={() => scheduleToCalendar('Exercise', exercise)}\n                    className=\"btn-sm btn-secondary flex items-center space-x-1\"\n                  >\n                    <Calendar className=\"w-4 h-4\" />\n                    <span>Schedule</span>\n                  </button>\n                </div>\n                <p className=\"text-sm text-green-700 dark:text-green-300 mb-1\">\n                  <strong>Type:</strong> {exercise.type} | <strong>Duration:</strong> {exercise.duration} | <strong>Intensity:</strong> {exercise.intensity}\n                </p>\n                <p className=\"text-sm text-green-600 dark:text-green-400\">{exercise.description}</p>\n                {exercise.precautions && (\n                  <p className=\"text-sm text-orange-600 dark:text-orange-400 mt-2\">\n                    <AlertCircle className=\"w-4 h-4 inline mr-1\" />\n                    {exercise.precautions}\n                  </p>\n                )}\n              </div>\n            )) || (\n              <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-4\">\n                <p className=\"text-green-700 dark:text-green-300\">{recommendations.exercise_recommendations}</p>\n              </div>\n            )}\n            \n            {calendarIntegration.events.length > 0 && (\n              <div className=\"mt-4\">\n                <h4 className=\"font-medium text-gray-800 dark:text-gray-200 mb-2\">Scheduled Events:</h4>\n                <div className=\"space-y-2\">\n                  {calendarIntegration.events.map((event, index) => (\n                    <div key={index} className=\"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg\">\n                      <div className=\"font-medium text-green-800 dark:text-green-200\">{event.exercise_name}</div>\n                      <div className=\"text-sm text-green-600 dark:text-green-400\">\n                        {event.date} at {event.time}\n                      </div>\n                      {event.event_link && (\n                        <a \n                          href={event.event_link} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\n                        >\n                          View in Google Calendar\n                        </a>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {recommendations?.dietary_recommendations && (\n        <div className=\"glass-card rounded-2xl p-6\">\n          <h3 className=\"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center mb-4\">\n            <Utensils className=\"w-6 h-6 mr-2 text-orange-600\" />\n            Dietary Recommendations\n          </h3>\n          <div className=\"space-y-4\">\n            {recommendations.dietary_recommendations.foods?.map((food, index) => (\n              <div key={index} className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h4 className=\"font-medium text-orange-800 dark:text-orange-200\">{food.category}</h4>\n                  <button\n                    onClick={() => scheduleToCalendar('Diet Plan', food)}\n                    className=\"btn-sm btn-secondary flex items-center space-x-1\"\n                  >\n                    <Calendar className=\"w-4 h-4\" />\n                    <span>Schedule</span>\n                  </button>\n                </div>\n                {food.recommended && (\n                  <p className=\"text-sm text-green-700 dark:text-green-300 mb-1\">\n                    <strong>Recommended:</strong> {food.recommended.join(', ')}\n                  </p>\n                )}\n                {food.avoid && (\n                  <p className=\"text-sm text-red-700 dark:text-red-300 mb-1\">\n                    <strong>Avoid:</strong> {food.avoid.join(', ')}\n                  </p>\n                )}\n                {food.notes && (\n                  <p className=\"text-sm text-orange-600 dark:text-orange-400\">{food.notes}</p>\n                )}\n              </div>\n            )) || (\n              <div className=\"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4\">\n                <p className=\"text-orange-700 dark:text-orange-300\">{recommendations.dietary_recommendations}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </motion.div>\n  );\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2\">\n          AI-Powered Prescription Analysis\n        </h2>\n        <p className=\"text-gray-600 dark:text-gray-400\">\n          Upload your prescription for intelligent disease diagnosis and personalized health recommendations\n        </p>\n      </div>\n\n      {renderStepIndicator()}\n      \n      {renderUploadSection()}\n      \n      {(ocrText || analysisResult) && renderAnalysisSection()}\n      \n      {recommendations && renderRecommendations()}\n\n      {error && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800\"\n        >\n          <div className=\"flex items-center space-x-2 text-red-700 dark:text-red-300\">\n            <AlertCircle className=\"w-5 h-5\" />\n            <span>{error}</span>\n          </div>\n        </motion.div>\n      )}\n\n      {isProcessing && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\"\n        >\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"typing-indicator\">\n              <div className=\"typing-dot\"></div>\n              <div className=\"typing-dot\"></div>\n              <div className=\"typing-dot\"></div>\n            </div>\n            <span className=\"text-sm text-blue-700 dark:text-blue-300\">\n              {currentStep === 'ocr' ? 'Extracting text from prescription...' :\n               currentStep === 'analysis' ? 'Analyzing medical conditions...' :\n               'Processing your request...'}\n            </span>\n          </div>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default PrescriptionUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}