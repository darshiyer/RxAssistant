{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\Tsunade\\\\Tsunade\\\\frontend\\\\src\\\\contexts\\\\HealthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\n\n// Initial state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  prescriptions: [],\n  healthProfile: null,\n  recommendations: [],\n  calendarEvents: [],\n  currentPrescription: null,\n  loading: {\n    profile: false,\n    prescriptions: false,\n    recommendations: false,\n    calendar: false\n  },\n  errors: {\n    profile: null,\n    prescriptions: null,\n    recommendations: null,\n    calendar: null\n  }\n};\n\n// Action types\nconst ActionTypes = {\n  SET_USER: 'SET_USER',\n  SET_AUTHENTICATED: 'SET_AUTHENTICATED',\n  ADD_PRESCRIPTION: 'ADD_PRESCRIPTION',\n  SET_HEALTH_PROFILE: 'SET_HEALTH_PROFILE',\n  SET_RECOMMENDATIONS: 'SET_RECOMMENDATIONS',\n  ADD_CALENDAR_EVENT: 'ADD_CALENDAR_EVENT',\n  SET_CALENDAR_EVENTS: 'SET_CALENDAR_EVENTS',\n  SET_CURRENT_PRESCRIPTION: 'SET_CURRENT_PRESCRIPTION',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  RESET_STATE: 'RESET_STATE'\n};\n\n// Reducer\nconst healthReducer = (state, action) => {\n  switch (action.type) {\n    case ActionTypes.SET_USER:\n      return {\n        ...state,\n        user: action.payload\n      };\n    case ActionTypes.SET_AUTHENTICATED:\n      return {\n        ...state,\n        isAuthenticated: action.payload\n      };\n    case ActionTypes.ADD_PRESCRIPTION:\n      return {\n        ...state,\n        prescriptions: [action.payload, ...state.prescriptions.slice(0, 9)],\n        // Keep last 10\n        currentPrescription: action.payload\n      };\n    case ActionTypes.SET_HEALTH_PROFILE:\n      return {\n        ...state,\n        healthProfile: action.payload\n      };\n    case ActionTypes.SET_RECOMMENDATIONS:\n      return {\n        ...state,\n        recommendations: action.payload\n      };\n    case ActionTypes.ADD_CALENDAR_EVENT:\n      return {\n        ...state,\n        calendarEvents: [action.payload, ...state.calendarEvents]\n      };\n    case ActionTypes.SET_CALENDAR_EVENTS:\n      return {\n        ...state,\n        calendarEvents: action.payload\n      };\n    case ActionTypes.SET_CURRENT_PRESCRIPTION:\n      return {\n        ...state,\n        currentPrescription: action.payload\n      };\n    case ActionTypes.SET_LOADING:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [action.payload.key]: action.payload.value\n        }\n      };\n    case ActionTypes.SET_ERROR:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [action.payload.key]: action.payload.value\n        }\n      };\n    case ActionTypes.CLEAR_ERROR:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [action.payload]: null\n        }\n      };\n    case ActionTypes.RESET_STATE:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\n// Context\nconst HealthContext = /*#__PURE__*/createContext();\n\n// Provider component\nexport const HealthProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(healthReducer, initialState);\n\n  // Helper functions\n  const setLoading = (key, value) => {\n    dispatch({\n      type: ActionTypes.SET_LOADING,\n      payload: {\n        key,\n        value\n      }\n    });\n  };\n  const setError = (key, value) => {\n    dispatch({\n      type: ActionTypes.SET_ERROR,\n      payload: {\n        key,\n        value\n      }\n    });\n  };\n  const clearError = key => {\n    dispatch({\n      type: ActionTypes.CLEAR_ERROR,\n      payload: key\n    });\n  };\n\n  // API functions\n  const fetchHealthProfile = async () => {\n    setLoading('profile', true);\n    clearError('profile');\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await fetch('/api/v1/medical-profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        dispatch({\n          type: ActionTypes.SET_HEALTH_PROFILE,\n          payload: data\n        });\n      } else {\n        throw new Error('Failed to fetch health profile');\n      }\n    } catch (error) {\n      setError('profile', error.message);\n    } finally {\n      setLoading('profile', false);\n    }\n  };\n  const fetchRecommendations = async () => {\n    setLoading('recommendations', true);\n    clearError('recommendations');\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await fetch('/api/v1/health-insights/personalized-recommendations', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        dispatch({\n          type: ActionTypes.SET_RECOMMENDATIONS,\n          payload: data.recommendations || []\n        });\n      }\n    } catch (error) {\n      setError('recommendations', error.message);\n    } finally {\n      setLoading('recommendations', false);\n    }\n  };\n  const fetchCalendarEvents = async () => {\n    setLoading('calendar', true);\n    clearError('calendar');\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await fetch('/api/calendar/events', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        dispatch({\n          type: ActionTypes.SET_CALENDAR_EVENTS,\n          payload: data\n        });\n      }\n    } catch (error) {\n      setError('calendar', error.message);\n    } finally {\n      setLoading('calendar', false);\n    }\n  };\n  const processPrescription = async prescriptionData => {\n    var _prescriptionData$ext;\n    // Add prescription to state\n    dispatch({\n      type: ActionTypes.ADD_PRESCRIPTION,\n      payload: prescriptionData\n    });\n\n    // Automatically refresh related data\n    await Promise.all([fetchHealthProfile(), fetchRecommendations()]);\n\n    // Create calendar events for medications\n    if ((_prescriptionData$ext = prescriptionData.extracted_info) !== null && _prescriptionData$ext !== void 0 && _prescriptionData$ext.medications) {\n      for (const medication of prescriptionData.extracted_info.medications) {\n        await createMedicationReminder(medication);\n      }\n    }\n  };\n  const createMedicationReminder = async medication => {\n    try {\n      var _medication$frequency;\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await fetch('/api/calendar/create-event', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: `Take ${medication.name}`,\n          description: `Medication reminder: ${medication.name} - ${medication.dosage}\\nFrequency: ${medication.frequency}`,\n          start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n          duration_minutes: 15,\n          recurrence: (_medication$frequency = medication.frequency) !== null && _medication$frequency !== void 0 && _medication$frequency.toLowerCase().includes('daily') ? 'daily' : null\n        })\n      });\n      if (response.ok) {\n        const eventData = await response.json();\n        dispatch({\n          type: ActionTypes.ADD_CALENDAR_EVENT,\n          payload: eventData\n        });\n      }\n    } catch (error) {\n      console.error('Error creating medication reminder:', error);\n    }\n  };\n  const login = userData => {\n    dispatch({\n      type: ActionTypes.SET_USER,\n      payload: userData\n    });\n    dispatch({\n      type: ActionTypes.SET_AUTHENTICATED,\n      payload: true\n    });\n\n    // Fetch initial data\n    fetchHealthProfile();\n    fetchRecommendations();\n    fetchCalendarEvents();\n  };\n  const logout = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('user_profile');\n    dispatch({\n      type: ActionTypes.RESET_STATE\n    });\n  };\n\n  // Initialize data on authentication\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    const userProfile = localStorage.getItem('user_profile');\n    if (token && userProfile) {\n      try {\n        const user = JSON.parse(userProfile);\n        dispatch({\n          type: ActionTypes.SET_USER,\n          payload: user\n        });\n        dispatch({\n          type: ActionTypes.SET_AUTHENTICATED,\n          payload: true\n        });\n\n        // Fetch initial data\n        fetchHealthProfile();\n        fetchRecommendations();\n        fetchCalendarEvents();\n      } catch (error) {\n        console.error('Error parsing user profile:', error);\n        logout();\n      }\n    }\n  }, []);\n  const value = {\n    // State\n    ...state,\n    // Actions\n    login,\n    logout,\n    processPrescription,\n    fetchHealthProfile,\n    fetchRecommendations,\n    fetchCalendarEvents,\n    createMedicationReminder,\n    setLoading,\n    setError,\n    clearError,\n    // Dispatch for custom actions\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(HealthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n};\n\n// Hook to use the context\n_s(HealthProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = HealthProvider;\nexport const useHealth = () => {\n  _s2();\n  const context = useContext(HealthContext);\n  if (!context) {\n    throw new Error('useHealth must be used within a HealthProvider');\n  }\n  return context;\n};\n_s2(useHealth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default HealthContext;\nvar _c;\n$RefreshReg$(_c, \"HealthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsxDEV","_jsxDEV","initialState","user","isAuthenticated","prescriptions","healthProfile","recommendations","calendarEvents","currentPrescription","loading","profile","calendar","errors","ActionTypes","SET_USER","SET_AUTHENTICATED","ADD_PRESCRIPTION","SET_HEALTH_PROFILE","SET_RECOMMENDATIONS","ADD_CALENDAR_EVENT","SET_CALENDAR_EVENTS","SET_CURRENT_PRESCRIPTION","SET_LOADING","SET_ERROR","CLEAR_ERROR","RESET_STATE","healthReducer","state","action","type","payload","slice","key","value","HealthContext","HealthProvider","children","_s","dispatch","setLoading","setError","clearError","fetchHealthProfile","token","localStorage","getItem","response","fetch","headers","ok","data","json","Error","error","message","fetchRecommendations","fetchCalendarEvents","processPrescription","prescriptionData","_prescriptionData$ext","Promise","all","extracted_info","medications","medication","createMedicationReminder","_medication$frequency","method","body","JSON","stringify","title","name","description","dosage","frequency","start_time","Date","now","toISOString","duration_minutes","recurrence","toLowerCase","includes","eventData","console","login","userData","logout","removeItem","userProfile","parse","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useHealth","_s2","context","$RefreshReg$"],"sources":["C:/Users/Admin/Downloads/Tsunade/Tsunade/frontend/src/contexts/HealthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n\n// Initial state\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  prescriptions: [],\n  healthProfile: null,\n  recommendations: [],\n  calendarEvents: [],\n  currentPrescription: null,\n  loading: {\n    profile: false,\n    prescriptions: false,\n    recommendations: false,\n    calendar: false\n  },\n  errors: {\n    profile: null,\n    prescriptions: null,\n    recommendations: null,\n    calendar: null\n  }\n};\n\n// Action types\nconst ActionTypes = {\n  SET_USER: 'SET_USER',\n  SET_AUTHENTICATED: 'SET_AUTHENTICATED',\n  ADD_PRESCRIPTION: 'ADD_PRESCRIPTION',\n  SET_HEALTH_PROFILE: 'SET_HEALTH_PROFILE',\n  SET_RECOMMENDATIONS: 'SET_RECOMMENDATIONS',\n  ADD_CALENDAR_EVENT: 'ADD_CALENDAR_EVENT',\n  SET_CALENDAR_EVENTS: 'SET_CALENDAR_EVENTS',\n  SET_CURRENT_PRESCRIPTION: 'SET_CURRENT_PRESCRIPTION',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n  RESET_STATE: 'RESET_STATE'\n};\n\n// Reducer\nconst healthReducer = (state, action) => {\n  switch (action.type) {\n    case ActionTypes.SET_USER:\n      return { ...state, user: action.payload };\n    \n    case ActionTypes.SET_AUTHENTICATED:\n      return { ...state, isAuthenticated: action.payload };\n    \n    case ActionTypes.ADD_PRESCRIPTION:\n      return {\n        ...state,\n        prescriptions: [action.payload, ...state.prescriptions.slice(0, 9)], // Keep last 10\n        currentPrescription: action.payload\n      };\n    \n    case ActionTypes.SET_HEALTH_PROFILE:\n      return { ...state, healthProfile: action.payload };\n    \n    case ActionTypes.SET_RECOMMENDATIONS:\n      return { ...state, recommendations: action.payload };\n    \n    case ActionTypes.ADD_CALENDAR_EVENT:\n      return {\n        ...state,\n        calendarEvents: [action.payload, ...state.calendarEvents]\n      };\n    \n    case ActionTypes.SET_CALENDAR_EVENTS:\n      return { ...state, calendarEvents: action.payload };\n    \n    case ActionTypes.SET_CURRENT_PRESCRIPTION:\n      return { ...state, currentPrescription: action.payload };\n    \n    case ActionTypes.SET_LOADING:\n      return {\n        ...state,\n        loading: { ...state.loading, [action.payload.key]: action.payload.value }\n      };\n    \n    case ActionTypes.SET_ERROR:\n      return {\n        ...state,\n        errors: { ...state.errors, [action.payload.key]: action.payload.value }\n      };\n    \n    case ActionTypes.CLEAR_ERROR:\n      return {\n        ...state,\n        errors: { ...state.errors, [action.payload]: null }\n      };\n    \n    case ActionTypes.RESET_STATE:\n      return initialState;\n    \n    default:\n      return state;\n  }\n};\n\n// Context\nconst HealthContext = createContext();\n\n// Provider component\nexport const HealthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(healthReducer, initialState);\n\n  // Helper functions\n  const setLoading = (key, value) => {\n    dispatch({ type: ActionTypes.SET_LOADING, payload: { key, value } });\n  };\n\n  const setError = (key, value) => {\n    dispatch({ type: ActionTypes.SET_ERROR, payload: { key, value } });\n  };\n\n  const clearError = (key) => {\n    dispatch({ type: ActionTypes.CLEAR_ERROR, payload: key });\n  };\n\n  // API functions\n  const fetchHealthProfile = async () => {\n    setLoading('profile', true);\n    clearError('profile');\n    \n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n\n      const response = await fetch('/api/v1/medical-profile', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        dispatch({ type: ActionTypes.SET_HEALTH_PROFILE, payload: data });\n      } else {\n        throw new Error('Failed to fetch health profile');\n      }\n    } catch (error) {\n      setError('profile', error.message);\n    } finally {\n      setLoading('profile', false);\n    }\n  };\n\n  const fetchRecommendations = async () => {\n    setLoading('recommendations', true);\n    clearError('recommendations');\n    \n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n\n      const response = await fetch('/api/v1/health-insights/personalized-recommendations', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        dispatch({ type: ActionTypes.SET_RECOMMENDATIONS, payload: data.recommendations || [] });\n      }\n    } catch (error) {\n      setError('recommendations', error.message);\n    } finally {\n      setLoading('recommendations', false);\n    }\n  };\n\n  const fetchCalendarEvents = async () => {\n    setLoading('calendar', true);\n    clearError('calendar');\n    \n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n\n      const response = await fetch('/api/calendar/events', {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        dispatch({ type: ActionTypes.SET_CALENDAR_EVENTS, payload: data });\n      }\n    } catch (error) {\n      setError('calendar', error.message);\n    } finally {\n      setLoading('calendar', false);\n    }\n  };\n\n  const processPrescription = async (prescriptionData) => {\n    // Add prescription to state\n    dispatch({ type: ActionTypes.ADD_PRESCRIPTION, payload: prescriptionData });\n    \n    // Automatically refresh related data\n    await Promise.all([\n      fetchHealthProfile(),\n      fetchRecommendations()\n    ]);\n    \n    // Create calendar events for medications\n    if (prescriptionData.extracted_info?.medications) {\n      for (const medication of prescriptionData.extracted_info.medications) {\n        await createMedicationReminder(medication);\n      }\n    }\n  };\n\n  const createMedicationReminder = async (medication) => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n\n      const response = await fetch('/api/calendar/create-event', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: `Take ${medication.name}`,\n          description: `Medication reminder: ${medication.name} - ${medication.dosage}\\nFrequency: ${medication.frequency}`,\n          start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n          duration_minutes: 15,\n          recurrence: medication.frequency?.toLowerCase().includes('daily') ? 'daily' : null\n        })\n      });\n\n      if (response.ok) {\n        const eventData = await response.json();\n        dispatch({ type: ActionTypes.ADD_CALENDAR_EVENT, payload: eventData });\n      }\n    } catch (error) {\n      console.error('Error creating medication reminder:', error);\n    }\n  };\n\n  const login = (userData) => {\n    dispatch({ type: ActionTypes.SET_USER, payload: userData });\n    dispatch({ type: ActionTypes.SET_AUTHENTICATED, payload: true });\n    \n    // Fetch initial data\n    fetchHealthProfile();\n    fetchRecommendations();\n    fetchCalendarEvents();\n  };\n\n  const logout = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('user_profile');\n    dispatch({ type: ActionTypes.RESET_STATE });\n  };\n\n  // Initialize data on authentication\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    const userProfile = localStorage.getItem('user_profile');\n    \n    if (token && userProfile) {\n      try {\n        const user = JSON.parse(userProfile);\n        dispatch({ type: ActionTypes.SET_USER, payload: user });\n        dispatch({ type: ActionTypes.SET_AUTHENTICATED, payload: true });\n        \n        // Fetch initial data\n        fetchHealthProfile();\n        fetchRecommendations();\n        fetchCalendarEvents();\n      } catch (error) {\n        console.error('Error parsing user profile:', error);\n        logout();\n      }\n    }\n  }, []);\n\n  const value = {\n    // State\n    ...state,\n    \n    // Actions\n    login,\n    logout,\n    processPrescription,\n    fetchHealthProfile,\n    fetchRecommendations,\n    fetchCalendarEvents,\n    createMedicationReminder,\n    setLoading,\n    setError,\n    clearError,\n    \n    // Dispatch for custom actions\n    dispatch\n  };\n\n  return (\n    <HealthContext.Provider value={value}>\n      {children}\n    </HealthContext.Provider>\n  );\n};\n\n// Hook to use the context\nexport const useHealth = () => {\n  const context = useContext(HealthContext);\n  if (!context) {\n    throw new Error('useHealth must be used within a HealthProvider');\n  }\n  return context;\n};\n\nexport default HealthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}